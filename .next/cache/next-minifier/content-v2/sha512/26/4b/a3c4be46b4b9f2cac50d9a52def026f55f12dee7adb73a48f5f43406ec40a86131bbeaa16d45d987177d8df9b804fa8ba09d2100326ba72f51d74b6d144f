{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{RrUq:function(t,e,n){t.exports={\"lightbox-background\":\"lightbox-background___1kP16\",lightboxBackground:\"lightbox-background___1kP16\",\"lightbox-title\":\"lightbox-title___2JHg4\",lightboxTitle:\"lightbox-title___2JHg4\",\"image-show\":\"image-show___2Q2aL\",imageShow:\"image-show___2Q2aL\"}},W7B9:function(t,e,n){t.exports={tabs:\"tabs___1_P9i\",nav:\"nav___3c3vM\",nav_item:\"nav_item___3-7j1\",navItem:\"nav_item___3-7j1\",selected:\"selected___1stnO\"}},aaBP:function(t,e,n){t.exports=function(t){\"use strict\";var e=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\"];function n(t,e){var n=t[0],r=t[1],o=t[2],i=t[3];r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&o)+e[1]-389564586|0)<<12|i>>>20)+n|0)&n|~i&r)+e[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&n)+e[3]-1044525330|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&o)+e[5]+1200080426|0)<<12|i>>>20)+n|0)&n|~i&r)+e[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&n)+e[7]-45705983|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&o)+e[9]-1958414417|0)<<12|i>>>20)+n|0)&n|~i&r)+e[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&n)+e[11]-1990404162|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&o)+e[13]-40341101|0)<<12|i>>>20)+n|0)&n|~i&r)+e[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&n)+e[15]+1236535329|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[1]-165796510|0)<<5|n>>>27)+r|0)&o|r&~o)+e[6]-1069501632|0)<<9|i>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|o>>>18)+i|0)&n|i&~n)+e[0]-373897302|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[5]-701558691|0)<<5|n>>>27)+r|0)&o|r&~o)+e[10]+38016083|0)<<9|i>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|o>>>18)+i|0)&n|i&~n)+e[4]-405537848|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[9]+568446438|0)<<5|n>>>27)+r|0)&o|r&~o)+e[14]-1019803690|0)<<9|i>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|o>>>18)+i|0)&n|i&~n)+e[8]+1163531501|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&o|r&~o)+e[2]-51403784|0)<<9|i>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|o>>>18)+i|0)&n|i&~n)+e[12]-1926607734|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^o)+e[8]-2022574463|0)<<11|i>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|o>>>16)+i|0)^i^n)+e[14]-35309556|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^o)+e[4]+1272893353|0)<<11|i>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|o>>>16)+i|0)^i^n)+e[10]-1094730640|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^o)+e[0]-358537222|0)<<11|i>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|o>>>16)+i|0)^i^n)+e[6]+76029189|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^o)+e[12]-421815835|0)<<11|i>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|o>>>16)+i|0)^i^n)+e[2]-995338651|0)<<23|r>>>9)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~o))+e[7]+1126891415|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[14]-1416354905|0)<<15|o>>>17)+i|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~o))+e[3]-1894986606|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[10]-1051523|0)<<15|o>>>17)+i|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~o))+e[15]-30611744|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[6]-1560198380|0)<<15|o>>>17)+i|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~o))+e[11]-1120210379|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+e[2]+718787259|0)<<15|o>>>17)+i|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+o|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function o(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function i(t){var e,o,i,a,s,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)n(l,r(t.substring(e-64,e)));for(o=(t=t.substring(e-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<o;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n(l,i),e=0;e<16;e+=1)i[e]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,i[14]=s,i[15]=u,n(l,i),l}function a(t){var n,r=\"\";for(n=0;n<4;n+=1)r+=e[t>>8*n+4&15]+e[t>>8*n&15];return r}function s(t){var e;for(e=0;e<t.length;e+=1)t[e]=a(t[e]);return t.join(\"\")}function u(t){return/[\\u0080-\\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function c(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function l(){this.reset()}return s(i(\"hello\")),\"undefined\"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,s,u=this.byteLength,c=e(n,u),l=u;return r!==t&&(l=e(r,u)),c>l?new ArrayBuffer(0):(o=l-c,i=new ArrayBuffer(o),a=new Uint8Array(i),s=new Uint8Array(this,c,o),a.set(s),i)}}(),l.prototype.append=function(t){return this.appendBinary(u(t)),this},l.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,o=this._buff.length;for(e=64;e<=o;e+=64)n(this._hash,r(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},l.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),n=s(this._hash),t&&(n=c(n)),this.reset(),n},l.prototype.reset=function(){return this._buff=\"\",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(t,e){var r,o,i,a=e;if(t[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,t),a=0;a<16;a+=1)t[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,t[14]=o,t[15]=i,n(this._hash,t)},l.hash=function(t,e){return l.hashBinary(u(t),e)},l.hashBinary=function(t,e){var n=s(i(t));return e?c(n):n},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(t){var e,r=function(t,e,n){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),n?r:r.buffer}(this._buff.buffer,t,!0),i=r.length;for(this._length+=t.byteLength,e=64;e<=i;e+=64)n(this._hash,o(r.subarray(e-64,e)));return this._buff=e-64<i?new Uint8Array(r.buffer.slice(e-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r[e]<<(e%4<<3);return this._finish(i,o),n=s(this._hash),t&&(n=c(n)),this.reset(),n},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var t,e=l.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},l.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var n,r=t.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=t.charCodeAt(n);return e?i:o}(t.buff,!0),l.prototype.setState.call(this,t)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(t,e){var r=s(function(t){var e,r,i,a,s,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)n(l,o(t.subarray(e-64,e)));for(t=e-64<c?t.subarray(e-64):new Uint8Array(0),r=t.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(n(l,i),e=0;e<16;e+=1)i[e]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,i[14]=s,i[15]=u,n(l,i),l}(new Uint8Array(t)));return e?c(r):r},l}()},b0Xh:function(t,e,r){var o;(function(){var r=!1,i=function(t){return t instanceof i?t:this instanceof i?void(this.EXIFwrapped=t):new i(t)};t.exports&&(e=t.exports=i),e.EXIF=i;var a=i.Tags={36864:\"ExifVersion\",40960:\"FlashpixVersion\",40961:\"ColorSpace\",40962:\"PixelXDimension\",40963:\"PixelYDimension\",37121:\"ComponentsConfiguration\",37122:\"CompressedBitsPerPixel\",37500:\"MakerNote\",37510:\"UserComment\",40964:\"RelatedSoundFile\",36867:\"DateTimeOriginal\",36868:\"DateTimeDigitized\",37520:\"SubsecTime\",37521:\"SubsecTimeOriginal\",37522:\"SubsecTimeDigitized\",33434:\"ExposureTime\",33437:\"FNumber\",34850:\"ExposureProgram\",34852:\"SpectralSensitivity\",34855:\"ISOSpeedRatings\",34856:\"OECF\",37377:\"ShutterSpeedValue\",37378:\"ApertureValue\",37379:\"BrightnessValue\",37380:\"ExposureBias\",37381:\"MaxApertureValue\",37382:\"SubjectDistance\",37383:\"MeteringMode\",37384:\"LightSource\",37385:\"Flash\",37396:\"SubjectArea\",37386:\"FocalLength\",41483:\"FlashEnergy\",41484:\"SpatialFrequencyResponse\",41486:\"FocalPlaneXResolution\",41487:\"FocalPlaneYResolution\",41488:\"FocalPlaneResolutionUnit\",41492:\"SubjectLocation\",41493:\"ExposureIndex\",41495:\"SensingMethod\",41728:\"FileSource\",41729:\"SceneType\",41730:\"CFAPattern\",41985:\"CustomRendered\",41986:\"ExposureMode\",41987:\"WhiteBalance\",41988:\"DigitalZoomRation\",41989:\"FocalLengthIn35mmFilm\",41990:\"SceneCaptureType\",41991:\"GainControl\",41992:\"Contrast\",41993:\"Saturation\",41994:\"Sharpness\",41995:\"DeviceSettingDescription\",41996:\"SubjectDistanceRange\",40965:\"InteroperabilityIFDPointer\",42016:\"ImageUniqueID\"},s=i.TiffTags={256:\"ImageWidth\",257:\"ImageHeight\",34665:\"ExifIFDPointer\",34853:\"GPSInfoIFDPointer\",40965:\"InteroperabilityIFDPointer\",258:\"BitsPerSample\",259:\"Compression\",262:\"PhotometricInterpretation\",274:\"Orientation\",277:\"SamplesPerPixel\",284:\"PlanarConfiguration\",530:\"YCbCrSubSampling\",531:\"YCbCrPositioning\",282:\"XResolution\",283:\"YResolution\",296:\"ResolutionUnit\",273:\"StripOffsets\",278:\"RowsPerStrip\",279:\"StripByteCounts\",513:\"JPEGInterchangeFormat\",514:\"JPEGInterchangeFormatLength\",301:\"TransferFunction\",318:\"WhitePoint\",319:\"PrimaryChromaticities\",529:\"YCbCrCoefficients\",532:\"ReferenceBlackWhite\",306:\"DateTime\",270:\"ImageDescription\",271:\"Make\",272:\"Model\",305:\"Software\",315:\"Artist\",33432:\"Copyright\"},u=i.GPSTags={0:\"GPSVersionID\",1:\"GPSLatitudeRef\",2:\"GPSLatitude\",3:\"GPSLongitudeRef\",4:\"GPSLongitude\",5:\"GPSAltitudeRef\",6:\"GPSAltitude\",7:\"GPSTimeStamp\",8:\"GPSSatellites\",9:\"GPSStatus\",10:\"GPSMeasureMode\",11:\"GPSDOP\",12:\"GPSSpeedRef\",13:\"GPSSpeed\",14:\"GPSTrackRef\",15:\"GPSTrack\",16:\"GPSImgDirectionRef\",17:\"GPSImgDirection\",18:\"GPSMapDatum\",19:\"GPSDestLatitudeRef\",20:\"GPSDestLatitude\",21:\"GPSDestLongitudeRef\",22:\"GPSDestLongitude\",23:\"GPSDestBearingRef\",24:\"GPSDestBearing\",25:\"GPSDestDistanceRef\",26:\"GPSDestDistance\",27:\"GPSProcessingMethod\",28:\"GPSAreaInformation\",29:\"GPSDateStamp\",30:\"GPSDifferential\"},c=i.IFD1Tags={256:\"ImageWidth\",257:\"ImageHeight\",258:\"BitsPerSample\",259:\"Compression\",262:\"PhotometricInterpretation\",273:\"StripOffsets\",274:\"Orientation\",277:\"SamplesPerPixel\",278:\"RowsPerStrip\",279:\"StripByteCounts\",282:\"XResolution\",283:\"YResolution\",284:\"PlanarConfiguration\",296:\"ResolutionUnit\",513:\"JpegIFOffset\",514:\"JpegIFByteCount\",529:\"YCbCrCoefficients\",530:\"YCbCrSubSampling\",531:\"YCbCrPositioning\",532:\"ReferenceBlackWhite\"},l=i.StringValues={ExposureProgram:{0:\"Not defined\",1:\"Manual\",2:\"Normal program\",3:\"Aperture priority\",4:\"Shutter priority\",5:\"Creative program\",6:\"Action program\",7:\"Portrait mode\",8:\"Landscape mode\"},MeteringMode:{0:\"Unknown\",1:\"Average\",2:\"CenterWeightedAverage\",3:\"Spot\",4:\"MultiSpot\",5:\"Pattern\",6:\"Partial\",255:\"Other\"},LightSource:{0:\"Unknown\",1:\"Daylight\",2:\"Fluorescent\",3:\"Tungsten (incandescent light)\",4:\"Flash\",9:\"Fine weather\",10:\"Cloudy weather\",11:\"Shade\",12:\"Daylight fluorescent (D 5700 - 7100K)\",13:\"Day white fluorescent (N 4600 - 5400K)\",14:\"Cool white fluorescent (W 3900 - 4500K)\",15:\"White fluorescent (WW 3200 - 3700K)\",17:\"Standard light A\",18:\"Standard light B\",19:\"Standard light C\",20:\"D55\",21:\"D65\",22:\"D75\",23:\"D50\",24:\"ISO studio tungsten\",255:\"Other\"},Flash:{0:\"Flash did not fire\",1:\"Flash fired\",5:\"Strobe return light not detected\",7:\"Strobe return light detected\",9:\"Flash fired, compulsory flash mode\",13:\"Flash fired, compulsory flash mode, return light not detected\",15:\"Flash fired, compulsory flash mode, return light detected\",16:\"Flash did not fire, compulsory flash mode\",24:\"Flash did not fire, auto mode\",25:\"Flash fired, auto mode\",29:\"Flash fired, auto mode, return light not detected\",31:\"Flash fired, auto mode, return light detected\",32:\"No flash function\",65:\"Flash fired, red-eye reduction mode\",69:\"Flash fired, red-eye reduction mode, return light not detected\",71:\"Flash fired, red-eye reduction mode, return light detected\",73:\"Flash fired, compulsory flash mode, red-eye reduction mode\",77:\"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",79:\"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",89:\"Flash fired, auto mode, red-eye reduction mode\",93:\"Flash fired, auto mode, return light not detected, red-eye reduction mode\",95:\"Flash fired, auto mode, return light detected, red-eye reduction mode\"},SensingMethod:{1:\"Not defined\",2:\"One-chip color area sensor\",3:\"Two-chip color area sensor\",4:\"Three-chip color area sensor\",5:\"Color sequential area sensor\",7:\"Trilinear sensor\",8:\"Color sequential linear sensor\"},SceneCaptureType:{0:\"Standard\",1:\"Landscape\",2:\"Portrait\",3:\"Night scene\"},SceneType:{1:\"Directly photographed\"},CustomRendered:{0:\"Normal process\",1:\"Custom process\"},WhiteBalance:{0:\"Auto white balance\",1:\"Manual white balance\"},GainControl:{0:\"None\",1:\"Low gain up\",2:\"High gain up\",3:\"Low gain down\",4:\"High gain down\"},Contrast:{0:\"Normal\",1:\"Soft\",2:\"Hard\"},Saturation:{0:\"Normal\",1:\"Low saturation\",2:\"High saturation\"},Sharpness:{0:\"Normal\",1:\"Soft\",2:\"Hard\"},SubjectDistanceRange:{0:\"Unknown\",1:\"Macro\",2:\"Close view\",3:\"Distant view\"},FileSource:{3:\"DSC\"},Components:{0:\"\",1:\"Y\",2:\"Cb\",3:\"Cr\",4:\"R\",5:\"G\",6:\"B\"}};function f(t){return!!t.exifdata}function h(t,e){function n(n){var o=p(n);t.exifdata=o||{};var a=function(t){var e=new DataView(t);r&&console.log(\"Got file of length \"+t.byteLength);if(255!=e.getUint8(0)||216!=e.getUint8(1))return r&&console.log(\"Not a valid JPEG\"),!1;var n=2,o=t.byteLength,i=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};for(;n<o;){if(i(e,n)){var a=e.getUint8(n+7);a%2!==0&&(a+=1),0===a&&(a=4);var s=n+8+a,u=e.getUint16(n+6+a);return g(t,s,u)}n++}}(n);if(t.iptcdata=a||{},i.isXmpEnabled){var s=function(t){if(!(\"DOMParser\"in self))return;var e=new DataView(t);r&&console.log(\"Got file of length \"+t.byteLength);if(255!=e.getUint8(0)||216!=e.getUint8(1))return r&&console.log(\"Not a valid JPEG\"),!1;var n=2,o=t.byteLength,i=new DOMParser;for(;n<o-4;){if(\"http\"==b(e,n,4)){var a=n-1,s=e.getUint16(n-2)-1,u=b(e,a,s),c=u.indexOf(\"xmpmeta>\")+8,l=(u=u.substring(u.indexOf(\"<x:xmpmeta\"),c)).indexOf(\"x:xmpmeta\")+10;return u=u.slice(0,l)+'xmlns:Iptc4xmpCore=\"http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:tiff=\"http://ns.adobe.com/tiff/1.0/\" xmlns:plus=\"http://schemas.android.com/apk/lib/com.google.android.gms.plus\" xmlns:ext=\"http://www.gettyimages.com/xsltExtension/1.0\" xmlns:exif=\"http://ns.adobe.com/exif/1.0/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\" xmlns:crs=\"http://ns.adobe.com/camera-raw-settings/1.0/\" xmlns:xapGImg=\"http://ns.adobe.com/xap/1.0/g/img/\" xmlns:Iptc4xmpExt=\"http://iptc.org/std/Iptc4xmpExt/2008-02-29/\" '+u.slice(l),x(i.parseFromString(u,\"text/xml\"))}n++}}(n);t.xmpdata=s||{}}e&&e.call(t)}if(t.src)if(/^data\\:/i.test(t.src))n(function(t,e){e=e||t.match(/^data\\:([^\\;]+)\\;base64,/im)[1]||\"\",t=t.replace(/^data\\:([^\\;]+)\\;base64,/gim,\"\");for(var n=atob(t),r=n.length,o=new ArrayBuffer(r),i=new Uint8Array(o),a=0;a<r;a++)i[a]=n.charCodeAt(a);return o}(t.src));else if(/^blob\\:/i.test(t.src)){(a=new FileReader).onload=function(t){n(t.target.result)},function(t,e){var n=new XMLHttpRequest;n.open(\"GET\",t,!0),n.responseType=\"blob\",n.onload=function(t){200!=this.status&&0!==this.status||e(this.response)},n.send()}(t.src,(function(t){a.readAsArrayBuffer(t)}))}else{var o=new XMLHttpRequest;o.onload=function(){if(200!=this.status&&0!==this.status)throw\"Could not load image\";n(o.response),o=null},o.open(\"GET\",t.src,!0),o.responseType=\"arraybuffer\",o.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){var a;(a=new FileReader).onload=function(t){r&&console.log(\"Got file of length \"+t.target.result.byteLength),n(t.target.result)},a.readAsArrayBuffer(t)}}function p(t){var e=new DataView(t);if(r&&console.log(\"Got file of length \"+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return r&&console.log(\"Not a valid JPEG\"),!1;for(var n,o=2,i=t.byteLength;o<i;){if(255!=e.getUint8(o))return r&&console.log(\"Not a valid marker at offset \"+o+\", found: \"+e.getUint8(o)),!1;if(n=e.getUint8(o+1),r&&console.log(n),225==n)return r&&console.log(\"Found 0xFFE1 marker\"),v(e,o+4,e.getUint16(o+2));o+=2+e.getUint16(o+2)}}var d={120:\"caption\",110:\"credit\",25:\"keywords\",55:\"dateCreated\",80:\"byline\",85:\"bylineTitle\",122:\"captionWriter\",105:\"headline\",116:\"copyright\",15:\"category\"};function g(t,e,n){for(var r,o,i,a,s=new DataView(t),u={},c=e;c<e+n;)28===s.getUint8(c)&&2===s.getUint8(c+1)&&(a=s.getUint8(c+2))in d&&((i=s.getInt16(c+3))+5,o=d[a],r=b(s,c+5,i),u.hasOwnProperty(o)?u[o]instanceof Array?u[o].push(r):u[o]=[u[o],r]:u[o]=r),c++;return u}function m(t,e,n,o,i){var a,s,u,c=t.getUint16(n,!i),l={};for(u=0;u<c;u++)a=n+12*u+2,!(s=o[t.getUint16(a,!i)])&&r&&console.log(\"Unknown tag: \"+t.getUint16(a,!i)),l[s]=y(t,a,e,n,i);return l}function y(t,e,n,r,o){var i,a,s,u,c,l,f=t.getUint16(e+2,!o),h=t.getUint32(e+4,!o),p=t.getUint32(e+8,!o)+n;switch(f){case 1:case 7:if(1==h)return t.getUint8(e+8,!o);for(i=h>4?p:e+8,a=[],u=0;u<h;u++)a[u]=t.getUint8(i+u);return a;case 2:return b(t,i=h>4?p:e+8,h-1);case 3:if(1==h)return t.getUint16(e+8,!o);for(i=h>2?p:e+8,a=[],u=0;u<h;u++)a[u]=t.getUint16(i+2*u,!o);return a;case 4:if(1==h)return t.getUint32(e+8,!o);for(a=[],u=0;u<h;u++)a[u]=t.getUint32(p+4*u,!o);return a;case 5:if(1==h)return c=t.getUint32(p,!o),l=t.getUint32(p+4,!o),(s=new Number(c/l)).numerator=c,s.denominator=l,s;for(a=[],u=0;u<h;u++)c=t.getUint32(p+8*u,!o),l=t.getUint32(p+4+8*u,!o),a[u]=new Number(c/l),a[u].numerator=c,a[u].denominator=l;return a;case 9:if(1==h)return t.getInt32(e+8,!o);for(a=[],u=0;u<h;u++)a[u]=t.getInt32(p+4*u,!o);return a;case 10:if(1==h)return t.getInt32(p,!o)/t.getInt32(p+4,!o);for(a=[],u=0;u<h;u++)a[u]=t.getInt32(p+8*u,!o)/t.getInt32(p+4+8*u,!o);return a}}function b(t,e,r){var o=\"\";for(n=e;n<e+r;n++)o+=String.fromCharCode(t.getUint8(n));return o}function v(t,e){if(\"Exif\"!=b(t,e,4))return r&&console.log(\"Not valid EXIF data! \"+b(t,e,4)),!1;var n,o,i,f,h,p=e+6;if(18761==t.getUint16(p))n=!1;else{if(19789!=t.getUint16(p))return r&&console.log(\"Not valid TIFF data! (no 0x4949 or 0x4D4D)\"),!1;n=!0}if(42!=t.getUint16(p+2,!n))return r&&console.log(\"Not valid TIFF data! (no 0x002A)\"),!1;var d=t.getUint32(p+4,!n);if(d<8)return r&&console.log(\"Not valid TIFF data! (First offset less than 8)\",t.getUint32(p+4,!n)),!1;if((o=m(t,p,p+d,s,n)).ExifIFDPointer)for(i in f=m(t,p,p+o.ExifIFDPointer,a,n)){switch(i){case\"LightSource\":case\"Flash\":case\"MeteringMode\":case\"ExposureProgram\":case\"SensingMethod\":case\"SceneCaptureType\":case\"SceneType\":case\"CustomRendered\":case\"WhiteBalance\":case\"GainControl\":case\"Contrast\":case\"Saturation\":case\"Sharpness\":case\"SubjectDistanceRange\":case\"FileSource\":f[i]=l[i][f[i]];break;case\"ExifVersion\":case\"FlashpixVersion\":f[i]=String.fromCharCode(f[i][0],f[i][1],f[i][2],f[i][3]);break;case\"ComponentsConfiguration\":f[i]=l.Components[f[i][0]]+l.Components[f[i][1]]+l.Components[f[i][2]]+l.Components[f[i][3]]}o[i]=f[i]}if(o.GPSInfoIFDPointer)for(i in h=m(t,p,p+o.GPSInfoIFDPointer,u,n)){switch(i){case\"GPSVersionID\":h[i]=h[i][0]+\".\"+h[i][1]+\".\"+h[i][2]+\".\"+h[i][3]}o[i]=h[i]}return o.thumbnail=function(t,e,n,r){var o=function(t,e,n){var r=t.getUint16(e,!n);return t.getUint32(e+2+12*r,!n)}(t,e+n,r);if(!o)return{};if(o>t.byteLength)return{};var i=m(t,e,e+o,c,r);if(i.Compression)switch(i.Compression){case 6:if(i.JpegIFOffset&&i.JpegIFByteCount){var a=e+i.JpegIFOffset,s=i.JpegIFByteCount;i.blob=new Blob([new Uint8Array(t.buffer,a,s)],{type:\"image/jpeg\"})}break;case 1:console.log(\"Thumbnail image format is TIFF, which is not implemented.\");break;default:console.log(\"Unknown thumbnail image format '%s'\",i.Compression)}else 2==i.PhotometricInterpretation&&console.log(\"Thumbnail image format is RGB, which is not implemented.\");return i}(t,p,d,n),o}function w(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e[\"@attributes\"]={};for(var n=0;n<t.attributes.length;n++){var r=t.attributes.item(n);e[\"@attributes\"][r.nodeName]=r.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var o=0;o<t.childNodes.length;o++){var i=t.childNodes.item(o),a=i.nodeName;if(null==e[a])e[a]=w(i);else{if(null==e[a].push){var s=e[a];e[a]=[],e[a].push(s)}e[a].push(w(i))}}return e}function x(t){try{var e={};if(t.children.length>0)for(var n=0;n<t.children.length;n++){var r=t.children.item(n),o=r.attributes;for(var i in o){var a=o[i],s=a.nodeName,u=a.nodeValue;void 0!==s&&(e[s]=u)}var c=r.nodeName;if(\"undefined\"==typeof e[c])e[c]=w(r);else{if(\"undefined\"==typeof e[c].push){var l=e[c];e[c]=[],e[c].push(l)}e[c].push(w(r))}}else e=t.textContent;return e}catch(f){console.log(f.message)}}i.enableXmp=function(){i.isXmpEnabled=!0},i.disableXmp=function(){i.isXmpEnabled=!1},i.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete)&&(f(t)?e&&e.call(t):h(t,e),!0)},i.getTag=function(t,e){if(f(t))return t.exifdata[e]},i.getIptcTag=function(t,e){if(f(t))return t.iptcdata[e]},i.getAllTags=function(t){if(!f(t))return{};var e,n=t.exifdata,r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},i.getAllIptcTags=function(t){if(!f(t))return{};var e,n=t.iptcdata,r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},i.pretty=function(t){if(!f(t))return\"\";var e,n=t.exifdata,r=\"\";for(e in n)n.hasOwnProperty(e)&&(\"object\"==typeof n[e]?n[e]instanceof Number?r+=e+\" : \"+n[e]+\" [\"+n[e].numerator+\"/\"+n[e].denominator+\"]\\r\\n\":r+=e+\" : [\"+n[e].length+\" values]\\r\\n\":r+=e+\" : \"+n[e]+\"\\r\\n\");return r},i.readFromBinaryFile=function(t){return p(t)},void 0===(o=function(){return i}.apply(e,[]))||(t.exports=o)}).call(this)},bTKe:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return Vt}));var r=n(\"Ff2n\"),o=n(\"KQm4\"),i=n(\"rePB\"),a=n(\"o0o1\"),s=n.n(a),u=n(\"HaE+\"),c=n(\"ODXe\"),l=n(\"q1tI\"),f=n.n(l),h=n(\"aaBP\"),p=n.n(h);function d(t){var e,n,r,o,i,a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",s=0,u=0,c=\"\",l=[];if(!t)return t;t=function(t){if(null===t||\"undefined\"===typeof t)return\"\";var e,n,r,o=t+\"\",i=\"\";e=n=0,r=o.length;for(var a=0;a<r;a++){var s=o.charCodeAt(a),u=null;if(s<128)n++;else if(s>127&&s<2048)u=String.fromCharCode(s>>6|192,63&s|128);else if((63488&s^55296)>0)u=String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128);else{if((64512&s^55296)>0)throw new RangeError(\"Unmatched trail surrogate at \"+a);var c=o.charCodeAt(++a);if((64512&c^56320)>0)throw new RangeError(\"Unmatched lead surrogate at \"+(a-1));s=((1023&s)<<10)+(1023&c)+65536,u=String.fromCharCode(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}null!==u&&(n>e&&(i+=o.slice(e,n)),i+=u,e=n=a+1)}return n>e&&(i+=o.slice(e,r)),i}(t+\"\");do{e=(i=t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<8|t.charCodeAt(s++))>>18&63,n=i>>12&63,r=i>>6&63,o=63&i,l[u++]=a.charAt(e)+a.charAt(n)+a.charAt(r)+a.charAt(o)}while(s<t.length);switch(c=l.join(\"\"),t.length%3){case 1:c=c.slice(0,-2)+\"==\";break;case 2:c=c.slice(0,-1)+\"=\"}return c}function g(t){return(t=d(t)).replace(/\\//g,\"_\").replace(/\\+/g,\"-\")}function m(t){return function(t){var e,n,r,o,i,a,s=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",u=0,c=0,l=[];if(!t)return t;t+=\"\";do{e=(a=s.indexOf(t.charAt(u++))<<18|s.indexOf(t.charAt(u++))<<12|(o=s.indexOf(t.charAt(u++)))<<6|(i=s.indexOf(t.charAt(u++))))>>16&255,n=a>>8&255,r=255&a,l[c++]=64===o?String.fromCharCode(e):64===i?String.fromCharCode(e,n):String.fromCharCode(e,n,r)}while(u<t.length);return l.join(\"\")}(t=t.replace(/_/g,\"/\").replace(/-/g,\"+\"))}var y=function(){return(y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},b=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},v=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},w=Math.pow(1024,2);function x(t){try{localStorage.removeItem(t)}catch(e){window.console&&window.console.warn&&console.warn(\"removeLocalFileInfo failed\")}}function S(t){return{Authorization:\"UpToken \"+t}}function k(t){var e=S(t);return y({\"content-type\":\"application/octet-stream\"},e)}function P(t){var e=S(t);return y({\"content-type\":\"application/json\"},e)}function C(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject(\"Microsoft.XMLHTTP\")}function O(t){return b(this,void 0,void 0,(function(){var e,n;return v(this,(function(r){switch(r.label){case 0:return[4,I(t)];case 1:return e=r.sent(),(n=new p.a.ArrayBuffer).append(e),[2,n.end()]}}))}))}function I(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(t){if(t.target){var r=t.target.result;e(r)}else n(new Error(\"progress event target is undefined\"))},r.onerror=function(){n(new Error(\"fileReader read failed\"))},r.readAsArrayBuffer(t)}))}function _(t,e){return new Promise((function(n,r){var o=C();if(o.open(e.method,t),e.onCreate&&e.onCreate(o),e.headers){var i=e.headers;Object.keys(i).forEach((function(t){o.setRequestHeader(t,i[t])}))}o.upload.addEventListener(\"progress\",(function(t){t.lengthComputable&&e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})})),o.onreadystatechange=function(){var t=o.responseText;if(4===o.readyState){var e=o.getResponseHeader(\"x-reqId\")||\"\";if(200!==o.status){var i=\"xhr request failed, code: \"+o.status;return t&&(i+=\" response: \"+t),void r({code:o.status,message:i,reqId:e,isRequestError:!0})}try{n({data:JSON.parse(t),reqId:e})}catch(a){r(a)}}},o.send(e.body)}))}function E(t){if(t&&t.match){var e=t.match(/(^https?)/);if(!e)return\"\";var n=e[1];return(e=t.match(/^https?:\\/\\/([^:^/]*):(\\d*)/))?e[2]:\"http\"===n?\"80\":\"443\"}return\"\"}function U(t){if(t&&t.match){var e=t.match(/^https?:\\/\\/([^:^/]*)/);return e?e[1]:\"\"}return\"\"}function j(){return\"http:\"===window.location.protocol?\"http:\":\"https:\"}function F(t){var e=t.split(\":\");return{ak:e.length>3?e[1]:e[0],bucket:JSON.parse(m(e[e.length-1])).scope.split(\":\")[0]}}var D,A=function(){function t(){}return t.prototype.log=function(t,e){var n=Object.values(t).join(\",\");this.send(n,e,0)},t.prototype.send=function(t,e,n){var r=this,o=C();o.open(\"POST\",\"https://uplog.qbox.me/log/3\"),o.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\"),o.setRequestHeader(\"Authorization\",\"UpToken \"+e),o.onreadystatechange=function(){4===o.readyState&&200!==o.status&&++n<=3&&r.send(t,e,n)},o.send(t)},t}(),T=function(){function t(t,e){this.runTask=t,this.limit=e,this.queue=[],this.processing=[]}return t.prototype.enqueue=function(t){var e=this;return new Promise((function(n,r){e.queue.push({task:t,resolve:n,reject:r}),e.check()}))},t.prototype.run=function(t){var e=this;this.queue=this.queue.filter((function(e){return e!==t})),this.processing.push(t),this.runTask(t.task).then((function(){e.processing=e.processing.filter((function(e){return e!==t})),t.resolve(),e.check()}),(function(e){return t.reject(e)}))},t.prototype.check=function(){var t=this,e=this.processing.length,n=this.limit-e;this.queue.slice(0,n).forEach((function(e){t.run(e)}))},t}(),R=\"z1\",L=\"z2\",B=\"na0\",G=\"as0\",q=((D={})[\"z0\"]={srcUphost:\"up.qiniup.com\",cdnUphost:\"upload.qiniup.com\"},D[R]={srcUphost:\"up-z1.qiniup.com\",cdnUphost:\"upload-z1.qiniup.com\"},D[L]={srcUphost:\"up-z2.qiniup.com\",cdnUphost:\"upload-z2.qiniup.com\"},D[B]={srcUphost:\"up-na0.qiniup.com\",cdnUphost:\"upload-na0.qiniup.com\"},D[G]={srcUphost:\"up-as0.qiniup.com\",cdnUphost:\"upload-as0.qiniup.com\"},D),M=function(){return(M=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},N=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},z=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function H(t){return N(this,void 0,void 0,(function(){var e;return z(this,(function(n){return e=F(t),[2,_(j()+\"//api.qiniu.com/v2/query?ak=\"+e.ak+\"&bucket=\"+e.bucket,{method:\"GET\"})]}))}))}function X(t,e){return N(this,void 0,void 0,(function(){var n,r,o,i,a;return z(this,(function(s){switch(s.label){case 0:return n=j(),t.uphost?[2,n+\"//\"+t.uphost]:t.region?(r=q[t.region],o=t.useCdnDomain?r.cdnUphost:r.srcUphost,[2,n+\"//\"+o]):[4,H(e)];case 1:return i=s.sent(),a=i.data.up.acc.main,[2,n+\"//\"+a[0]]}}))}))}function V(t,e,n){var r=n.url,o=n.id;return r+\"/buckets/\"+t+\"/objects/\"+g(e)+\"/uploads/\"+o}function W(t,e,n,r,o){return _(V(F(t).bucket,e,r)+\"/\"+n,M(M({},o),{method:\"PUT\",headers:k(t)}))}var J=function(){return(J=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},K=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Z=4,Q=Math.pow(1024,3),$=function(){function t(t,e,n){this.statisticsLogger=n,this.xhrList=[],this.aborted=!1,this.retryCount=0,this.config=J({useCdnDomain:!0,disableStatisticsReport:!1,retryCount:3,checkByMD5:!1,uphost:\"\",forceDirect:!1,chunkSize:Z,concurrentRequestLimit:3},t.config),this.putExtra=J({fname:\"\"},t.putExtra),this.file=t.file,this.key=t.key,this.token=t.token,this.onData=e.onData,this.onError=e.onError,this.onComplete=e.onComplete;try{this.bucket=F(this.token).bucket}catch(r){this.onError(r)}}return t.prototype.putFile=function(){return Y(this,void 0,void 0,(function(){var t,e,n,r,o,i,a,s;return K(this,(function(u){switch(u.label){case 0:if(this.aborted=!1,this.putExtra.fname||(this.putExtra.fname=this.file.name),this.file.size>1e4*Q)throw t=new Error(\"file size exceed maximum value 10000G\"),this.onError(t),t;if(this.putExtra.customVars&&(c=this.putExtra.customVars,!Object.keys(c).every((function(t){return 0===t.indexOf(\"x:\")}))))throw t=new Error(\"customVars key should start width x:\"),this.onError(t),t;if(this.putExtra.metadata&&!function(t){return Object.keys(t).every((function(t){return 0===t.indexOf(\"x-qn-meta-\")}))}(this.putExtra.metadata))throw t=new Error(\"metadata key should start with x-qn-meta-\"),this.onError(t),t;u.label=1;case 1:return u.trys.push([1,4,,5]),e=this,[4,X(this.config,this.token)];case 2:return e.uploadUrl=u.sent(),this.uploadAt=(new Date).getTime(),[4,this.run()];case 3:return n=u.sent(),this.onComplete(n.data),this.config.disableStatisticsReport||this.sendLog(n.reqId,200),[2,n];case 4:if(r=u.sent(),this.clear(),r.isRequestError&&!this.config.disableStatisticsReport&&(o=this.aborted?\"\":r.reqId,i=this.aborted?-2:r.code,this.sendLog(o,i)),a=r.isRequestError&&0===r.code&&!this.aborted,s=++this.retryCount<=this.config.retryCount,a&&s||612===r.code)return[2,this.putFile()];throw this.onError(r),r;case 5:return[2]}var c}))}))},t.prototype.clear=function(){this.xhrList.forEach((function(t){return t.abort()})),this.xhrList=[]},t.prototype.stop=function(){this.clear(),this.aborted=!0},t.prototype.addXhr=function(t){this.xhrList.push(t)},t.prototype.sendLog=function(t,e){this.statisticsLogger.log({code:e,reqId:t,host:U(this.uploadUrl),remoteIp:\"\",port:E(this.uploadUrl),duration:((new Date).getTime()-this.uploadAt)/1e3,time:Math.floor(this.uploadAt/1e3),bytesSent:this.progress?this.progress.total.loaded:0,upType:\"jssdk-h5\",size:this.file.size},this.token)},t.prototype.getProgressInfoItem=function(t,e){return{loaded:t,size:e,percent:t/e*100}},t}(),tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(){return(et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},nt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},rt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tt(e,t),e.prototype.run=function(){return nt(this,void 0,void 0,(function(){var t,e,n,r=this;return rt(this,(function(o){switch(o.label){case 0:if(!this.config.chunkSize||!function(t){return/^[1-9]\\d*$/.test(String(t))}(this.config.chunkSize))throw new Error(\"chunkSize must be a positive integer\");if(this.config.chunkSize>1024)throw new Error(\"chunkSize maximum value is 1024\");return[4,this.initBeforeUploadChunks()];case 1:return o.sent(),t=new T((function(t){return r.uploadChunk(t)}),this.config.concurrentRequestLimit),e=this.chunks.map((function(e,n){return t.enqueue({chunk:e,index:n})})),(n=Promise.all(e).then((function(){return r.mkFileReq()}))).then((function(){x(r.getLocalKey())}),(function(t){612!==t.code&&400!==t.code||x(r.getLocalKey())})),[2,n]}}))}))},e.prototype.uploadChunk=function(t){return nt(this,void 0,void 0,(function(){var e,n,r,o,i,a,s,u,c,l=this;return rt(this,(function(f){switch(f.label){case 0:return e=t.index,n=t.chunk,r=this.uploadedList[e],o=this.config.checkByMD5,i=function(){l.updateChunkProgress(n.size,e)},r&&!o?(i(),[2]):[4,O(n)];case 1:return a=f.sent(),r&&a===r.md5?(i(),[2]):(u={body:n,onProgress:s=function(t){l.updateChunkProgress(t.loaded,e)},onCreate:function(t){return l.addXhr(t)}},[4,W(this.token,this.key,t.index+1,this.getUploadInfo(),u)]);case 2:return c=f.sent(),s({loaded:n.size,total:n.size}),this.uploadedList[e]={etag:c.data.etag,md5:c.data.md5,size:n.size},function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){window.console&&window.console.warn&&console.warn(\"setLocalFileInfo failed\")}}(this.getLocalKey(),{id:this.uploadId,data:this.uploadedList}),[2]}}))}))},e.prototype.mkFileReq=function(){return nt(this,void 0,void 0,(function(){var t,e,n=this;return rt(this,(function(r){switch(r.label){case 0:return t=et(et(et({parts:this.uploadedList.map((function(t,e){return{etag:t.etag,partNumber:e+1}})),fname:this.putExtra.fname},this.putExtra.mimeType&&{mimeType:this.putExtra.mimeType}),this.putExtra.customVars&&{customVars:this.putExtra.customVars}),this.putExtra.metadata&&{metadata:this.putExtra.metadata}),[4,(o=this.token,i=this.key,a=this.getUploadInfo(),s={onCreate:function(t){return n.addXhr(t)},body:JSON.stringify(t)},_(V(F(o).bucket,i,a),M(M({},s),{method:\"POST\",headers:P(o)})))];case 1:return e=r.sent(),this.updateMkFileProgress(1),[2,e]}var o,i,a,s}))}))},e.prototype.initBeforeUploadChunks=function(){return nt(this,void 0,void 0,(function(){var t,e;return rt(this,(function(n){switch(n.label){case 0:return(t=function(t){try{var e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(n){return window.console&&window.console.warn&&console.warn(\"getLocalFileInfo failed\"),null}}(this.getLocalKey()))?[3,2]:(x(this.getLocalKey()),[4,(r=this.token,o=this.bucket,i=this.key,a=this.uploadUrl,_(a+\"/buckets/\"+o+\"/objects/\"+g(i)+\"/uploads\",{method:\"POST\",headers:S(r)}))]);case 1:return e=n.sent(),this.uploadId=e.data.uploadId,this.uploadedList=[],[3,3];case 2:this.uploadId=t.id,this.uploadedList=t.data,n.label=3;case 3:return this.chunks=function(t,e){var n=e*w;if(n>t.size)n=t.size;else for(;t.size>1e4*n;)n*=2;for(var r=[],o=Math.ceil(t.size/n),i=0;i<o;i++){var a=t.slice(n*i,i===o-1?t.size:n*(i+1));r.push(a)}return r}(this.file,this.config.chunkSize),this.loaded={mkFileProgress:0,chunks:this.chunks.map((function(t){return 0}))},this.notifyResumeProgress(),[2]}var r,o,i,a}))}))},e.prototype.getUploadInfo=function(){return{id:this.uploadId,url:this.uploadUrl}},e.prototype.getLocalKey=function(){return t=this.file.name,e=this.key,n=this.file.size,\"qiniu_js_sdk_upload_file_name_\"+t+\"_key_\"+e+\"_size_\"+n;var t,e,n},e.prototype.updateChunkProgress=function(t,e){this.loaded.chunks[e]=t,this.notifyResumeProgress()},e.prototype.updateMkFileProgress=function(t){this.loaded.mkFileProgress=t,this.notifyResumeProgress()},e.prototype.notifyResumeProgress=function(){var t,e=this;this.progress={total:this.getProgressInfoItem((t=this.loaded.chunks,t.reduce((function(t,e){return t+e}),0)+this.loaded.mkFileProgress),this.file.size+1),chunks:this.chunks.map((function(t,n){return e.getProgressInfoItem(e.loaded.chunks[n],t.size)})),uploadInfo:{id:this.uploadId,url:this.uploadUrl}},this.onData(this.progress)},e}($),it=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},st=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return it(e,t),e.prototype.run=function(){return at(this,void 0,void 0,(function(){var t,e,n,r=this;return st(this,(function(o){switch(o.label){case 0:return(t=new FormData).append(\"file\",this.file),t.append(\"token\",this.token),null!=this.key&&t.append(\"key\",this.key),t.append(\"fname\",this.putExtra.fname),this.putExtra.customVars&&(e=this.putExtra.customVars,Object.keys(e).forEach((function(n){return t.append(n,e[n].toString())}))),[4,_(this.uploadUrl,{method:\"POST\",body:t,onProgress:function(t){r.updateDirectProgress(t.loaded,t.total)},onCreate:function(t){return r.addXhr(t)}})];case 1:return n=o.sent(),this.finishDirectProgress(),[2,n]}}))}))},e.prototype.updateDirectProgress=function(t,e){this.progress={total:this.getProgressInfoItem(t,e+1)},this.onData(this.progress)},e.prototype.finishDirectProgress=function(){if(!this.progress)return this.progress={total:this.getProgressInfoItem(this.file.size,this.file.size)},void this.onData(this.progress);var t=this.progress.total;this.progress={total:this.getProgressInfoItem(t.loaded+1,t.size)},this.onData(this.progress)},e}($);var ct=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(){return(lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ft=function(t){function e(e,n,r){var o=t.call(this)||this;return o.isStopped=!1,o.destination=e&&\"object\"===typeof e?e:lt(lt(lt({},e&&{next:e}),n&&{error:n}),r&&{complete:r}),o}return ct(e,t),e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype.next=function(t){!this.isStopped&&this.destination.next&&this.destination.next(t)},e.prototype.error=function(t){!this.isStopped&&this.destination.error&&(this.isStopped=!0,this.destination.error(t))},e.prototype.complete=function(t){!this.isStopped&&this.destination.complete&&(this.isStopped=!0,this.destination.complete(t))},e}(function(){function t(){this.closed=!1}return t.prototype.unsubscribe=function(){this.closed||(this.closed=!0,this._unsubscribe&&this._unsubscribe())},t.prototype.add=function(t){this._unsubscribe=t},t}()),ht=function(){function t(t){this._subscribe=t}return t.prototype.subscribe=function(t,e,n){var r=new ft(t,e,n);return r.add(this._subscribe(r)),r},t}(),pt=n(\"b0Xh\"),dt=function(){return(dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},gt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(e){i(e)}}function s(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},mt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},yt=function(t,e){var n=\"function\"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},bt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yt(arguments[e]));return t},vt={PNG:\"image/png\",JPEG:\"image/jpeg\",WEBP:\"image/webp\",BMP:\"image/bmp\"},wt=Math.log(2),xt=Object.keys(vt).map((function(t){return vt[t]})),St=vt.JPEG;!function(){function t(t,e){this.file=t,this.config=e,this.config=dt({quality:.92,noCompressIfLarger:!1},this.config)}t.prototype.process=function(){return gt(this,void 0,void 0,(function(){var t,e,n,r,o,i;return mt(this,(function(a){switch(a.label){case 0:if(this.outputType=this.file.type,t={},s=this.file.type,!xt.includes(s))throw new Error(\"unsupported file type: \"+this.file.type);return[4,this.getOriginImage()];case 1:return e=a.sent(),[4,this.getCanvas(e)];case 2:return n=a.sent(),r=1,this.config.maxWidth&&(r=Math.min(1,this.config.maxWidth/n.width)),this.config.maxHeight&&(r=Math.min(1,r,this.config.maxHeight/n.height)),t.width=n.width,t.height=n.height,[4,this.doScale(n,r)];case 3:return o=a.sent(),(i=this.toBlob(o)).size>this.file.size&&this.config.noCompressIfLarger?[2,{dist:this.file,width:t.width,height:t.height}]:[2,{dist:i,width:o.width,height:o.height}]}var s}))}))},t.prototype.clear=function(t,e,n){this.outputType===St?(t.fillStyle=\"#fff\",t.fillRect(0,0,e,n)):t.clearRect(0,0,e,n)},t.prototype.getOriginImage=function(){var t=this;return new Promise((function(e,n){var r,o=(r=t.file,(window.URL||window.webkitURL||window.mozURL).createObjectURL(r)),i=new Image;i.onload=function(){e(i)},i.onerror=function(){n(\"image load error\")},i.src=o}))},t.prototype.getCanvas=function(t){var e=this;return new Promise((function(n,r){pt.EXIF.getData(t,(function(){var o=pt.EXIF.getTag(t,\"Orientation\")||1,i=function(t,e){var n=t.width,r=t.height;switch(e){case 1:return{width:n,height:r,matrix:[1,0,0,1,0,0]};case 2:return{width:n,height:r,matrix:[-1,0,0,1,n,0]};case 3:return{width:n,height:r,matrix:[-1,0,0,-1,n,r]};case 4:return{width:n,height:r,matrix:[1,0,0,-1,0,r]};case 5:return{width:r,height:n,matrix:[0,1,1,0,0,0]};case 6:return{width:r,height:n,matrix:[0,1,-1,0,r,0]};case 7:return{width:r,height:n,matrix:[0,-1,-1,0,r,n]};case 8:return{width:r,height:n,matrix:[0,-1,1,0,0,n]};default:throw new Error(\"orientation \"+e+\" is unavailable\")}}(t,o),a=i.width,s=i.height,u=i.matrix,c=document.createElement(\"canvas\"),l=c.getContext(\"2d\");c.width=a,c.height=s,l?(e.clear(l,a,s),l.transform.apply(l,bt(u)),l.drawImage(t,0,0),n(c)):r(new Error(\"context is null\"))}))}))},t.prototype.doScale=function(t,e){return gt(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,f,h,p,d,g,m,y;return mt(this,(function(b){if(1===e)return[2,t];if(n=t.getContext(\"2d\"),r=Math.min(4,Math.ceil(1/e/wt)),o=Math.pow(e,1/r),i=document.createElement(\"canvas\"),a=i.getContext(\"2d\"),s=t.width,u=t.height,c=s,l=u,i.width=s,i.height=u,!a||!n)throw new Error(\"mctx or sctx can't be null\");for(p=0;p<r;p++)d=s*o|0,g=u*o|0,p===r-1&&(d=c*e,g=l*e),p%2===0?(f=t,h=a):(f=i,h=n),this.clear(h,s,u),h.drawImage(f,0,0,s,u,0,0,d,g),s=d,u=g;return m=f===t?i:t,y=h.getImageData(0,0,s,u),m.width=s,m.height=u,h.putImageData(y,0,0),[2,m]}))}))},t.prototype.toBlob=function(t){var e=t.toDataURL(this.outputType,this.config.quality),n=atob(e.split(\",\")[1]).split(\"\").map((function(t){return t.charCodeAt(0)}));return new Blob([new Uint8Array(n)],{type:this.outputType})}}();var kt=new A;function Pt(t,e,n,r,o){var i={file:t,key:e,token:n,putExtra:r,config:o};return new ht((function(t){var e=function(t,e,n){return t.config&&t.config.forceDirect?new ut(t,e,n):t.file.size>4*w?new ot(t,e,n):new ut(t,e,n)}(i,{onData:function(e){return t.next(e)},onError:function(e){return t.error(e)},onComplete:function(e){return t.complete(e)}},kt);return e.putFile(),e.stop.bind(e)}))}var Ct=n(\"bTPZ\"),Ot=n(\"pJr+\"),It=n(\"cUIZ\"),_t=n(\"rffq\"),Et=n(\"wvHr\"),Ut=n(\"dY07\"),jt=n(\"Oi1/\"),Ft=n(\"Au3V\"),Dt=n(\"tJ/W\"),At=n(\"AoAR\"),Tt=n(\"y0/X\"),Rt=n(\"5D78\"),Lt=f.a.createElement;function Bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var qt=[\"psd\",\"jpg\",\"jpeg\",\"png\",\"gif\",\"webp\",\"tiff\",\"bmp\"];function Mt(t){if(-1!=qt.indexOf(t.split(\".\").slice(-1)[0]))return\"\".concat(t,\"?imageView2/0/w/128/h/128/interlace/1/q/50\")}function Nt(t){var e=t.bucket,n=t.prefix,r=t.onChange,o=void 0===r?function(){}:r,i=t.imgRef,a=f.a.useState([]),s=Object(c.a)(a,2),u=s[0],l=s[1],h=f.a.useState(!1),p=Object(c.a)(h,2),d=p[0],g=p[1],m=f.a.useState([]),y=Object(c.a)(m,2),b=y[0],v=y[1];function w(){g(!0),Object(At.B)().then((function(t){v(t.buckets),l(Array.from(new Set([{key:\"\\u65e0\\u524d\\u7f00\",value:\"\"}].concat(t.prefix)))),\"\"==e&&0!=t.buckets.length&&o(t.buckets[0],\"\")})).catch(console.error).finally((function(){return g(!1)}))}return f.a.useEffect(w,[]),Lt(Ot.b,{direction:\"horizontal\"},Lt(Dt.j,{label:\"\\u5b58\\u50a8\\u7a7a\\u95f4\",value:e,onSelect:function(t,e){return o(e,n)},options:b}),Lt(Ft.b,{onClick:w,icon:Lt(d?jt.v:jt.M,null)}),Lt(Dt.j,{value:n,onChange:function(t){Object(Tt.a)(\"image_prefix\",(function(){\"\"!==t&&o(e,t)}),500)},onSelect:function(t,n){return o(e,n)},suffix:d?Lt(jt.v,null):void 0,options:u}),Lt(Ft.b,{neumorphism:!0,onClick:function(){i&&i.current&&i.current.refresh()}},\"\\u5237\\u65b0\\u56fe\\u7247\"))}function zt(t){var e=t.bucket,n=t.prefix,r=function(){var t=Object(u.a)(s.a.mark((function t(r){var o,i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(At.D)(e);case 2:o=t.sent.token,i=n?\"\".concat(n,\"/\").concat(r.name):r.name,a=Pt(r,i,o,{},{}),a.subscribe({next:function(t){console.log(t)},error:function(t){Object(Et.b)({alertType:\"error\",title:\"\\u4e0a\\u4f20\\u53d1\\u751f\\u9519\\u8bef\",content:\"\".concat(i,\"\\n\").concat(t)}),console.error(t)},complete:function(t){Object(Et.b)({alertType:\"success\",title:\"\\u4e0a\\u4f20\\u6210\\u529f\",content:\"\".concat(i)})}});case 6:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Lt(Dt.i,{onUpload:function(t){return Object.values(t).map(r)}},Lt(\"p\",null,\"\\u70b9\\u51fb\\u6216\\u5c06\\u6587\\u4ef6\\u62d6\\u62fd\\u5230\\u6b64\\u5904\\u4e0a\\u4f20\"))}var Ht=f.a.forwardRef((function(t,e){var n=t.bucket,r=t.prefix,i=t.group_number,a=void 0===i?10:i,l=f.a.useState(\"\"),h=Object(c.a)(l,2),p=h[0],d=h[1],g=f.a.useState(!1),m=Object(c.a)(g,2),y=m[0],b=m[1],v=f.a.useState(!1),w=Object(c.a)(v,2),x=w[0],S=w[1],k=f.a.useReducer((function(t,e){switch(e.method){case\"initial\":var n=e.value;return(void 0===n?[]:n).map((function(t){return Gt(Gt({},t),{},{new_key:t.key})}));case\"concat\":var r=e.value,i=void 0===r?[]:r;return t.concat(i.map((function(t){return Gt(Gt({},t),{},{new_key:t.key})})));case\"update\":var a=e.index,s=void 0===a?0:a,u=e.key,c=void 0===u?t[s].new_key:u;return[].concat(Object(o.a)(t.slice(0,s)),[Gt(Gt({},t[s]),{},{new_key:c})],Object(o.a)(t.slice(s+1)));default:throw new Error}}),[]),P=Object(c.a)(k,2),C=P[0],O=P[1],I=f.a.useState(0),_=Object(c.a)(I,2),E=_[0],U=_[1],j=f.a.useRef(E);j.current=E;var F=f.a.useCallback((function(t,e,n){if(t){S(!0);var r=E+1;U(r),Object(At.C)(t,e,n,a).then((function(t){j.current===r&&(O({method:n?\"concat\":\"initial\",value:t.files}),d(t.marker),b(t.has_next))})).catch(console.error).finally((function(){return S(!1)}))}}),[E,a]),D=f.a.useCallback((function(){return F(n,r,\"\")}),[n,r]);return f.a.useImperativeHandle(e,(function(){return{refresh:D}}),[n,r]),f.a.useEffect((function(){O({method:\"initial\"}),d(\"\"),b(!1),D()}),[n,r]),Lt(Ot.a,{direction:\"TB\",fullWidth:!0},Lt(Ot.a,{mainAxis:\"flex-start\"},C.map((function(t,e){return Lt(Ct.a,{key:t.new_key,style:{width:150}},Lt(Ot.a,{direction:\"TB\",fullWidth:!0},Lt(Ut.a,{src:t.link,thumbnail:Mt(t.link),title:t.link,clickable:!0,width:\"100%\",height:\"100px\"}),Lt(Dt.j,{value:t.new_key,transform:!0,onChange:function(t){O({method:\"update\",index:e,key:t})},style:{minWidth:\"100%\"}}),Lt(Ot.a,null,Lt(Ft.b,{icon:Lt(jt.I,null),onClick:Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Rt.b,e.next=3,Object(At.E)(n,t.key,t.new_key);case 3:if(e.t1=e.sent,!(0,e.t0)(e.t1)){e.next=6;break}D();case 6:case\"end\":return e.stop()}}),e)})))}),Lt(_t.d,{trigger:[\"click\"],card:!0,shadow:!0,component:Lt(Ct.a,null,Lt(Ot.a,null,\"\\u786e\\u5b9a\\u5220\\u9664\\uff1f\",Lt(Ft.b,{danger:!0,primary:!0,neumorphism:!0,size:\"small\",onClick:Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Rt.b,e.next=3,Object(At.A)(n,t.key);case 3:if(e.t1=e.sent,!(0,e.t0)(e.t1)){e.next=6;break}D();case 6:case\"end\":return e.stop()}}),e)})))},\"\\u5220\\u9664\")))},Lt(Ft.b,{danger:!0,style:{background:\"transparent\"},icon:Lt(jt.g,null)})))))}))),Lt(Ot.a.Item,{style:{width:\"auto\"}},Lt(Ft.b,{neumorphism:!0,onClick:function(){return F(n,r,p)},disabled:!y,loading:x},\"\\u83b7\\u53d6\\u66f4\\u591a\")))}));function Xt(t){var e=t.defaultTab,n=void 0===e?\"upload\":e,r=t.group_number,o=void 0===r?10:r,i=f.a.useState(\"\"),a=Object(c.a)(i,2),s=a[0],u=a[1],l=f.a.useState(\"\"),h=Object(c.a)(l,2),p=h[0],d=h[1],g=f.a.useRef(),m=f.a.useCallback((function(t,e){t!==s&&u(t),e!==p&&d(e)}),[s,p]);return Lt(Ot.a,{direction:\"TB\",fullWidth:!0},Lt(Nt,{bucket:s,prefix:p,onChange:m,imgRef:g}),Lt(It.a,{defaultSelected:\"list\"===n?\"\\u56fe\\u7247\\u5217\\u8868\":\"\\u4e0a\\u4f20\\u56fe\\u7247\",keepInDOM:!0},Lt(It.a.Item,{name:\"\\u4e0a\\u4f20\\u56fe\\u7247\"},Lt(zt,{bucket:s,prefix:p})),Lt(It.a.Item,{name:\"\\u56fe\\u7247\\u5217\\u8868\"},Lt(Ht,{ref:g,bucket:s,prefix:p,group_number:o}))))}function Vt(t){var e=t.show,n=t.onClose,o=Object(r.a)(t,[\"show\",\"onClose\"]);return Lt(_t.b,{show:e,onClose:n},Lt(Ct.a,null,Lt(Xt,o)))}e.b=Xt},cUIZ:function(t,e,n){\"use strict\";var r=n(\"wx14\"),o=n(\"ODXe\"),i=n(\"Ff2n\"),a=n(\"q1tI\"),s=n.n(a),u=n(\"pJr+\"),c=n(\"Hh1h\"),l=n(\"W7B9\"),f=n.n(l),h=s.a.createElement;function p(t){t.name,t.disabled,t.id;var e=t.children,n=t.className,r=t.style;return h(\"div\",{className:Object(c.a)(n),style:r},e)}p.displayName=\"TabsItem\",e.a=Object.assign((function(t){var e=t.selected,n=t.defaultSelected,a=t.children,l=t.onChange,d=void 0===l?function(){return[]}:l,g=t.className,m=t.keepInDOM,y=void 0!==m&&m,b=Object(i.a)(t,[\"selected\",\"defaultSelected\",\"children\",\"onChange\",\"className\",\"keepInDOM\"]),v=s.a.Children.toArray(a).filter((function(t){return!!t&&!!t.type&&t.type.displayName===p.displayName})),w=v.map((function(t){return t.props})),x=s.a.useState(\"undefined\"===typeof n?w.length>0?w[0].name:\"\":n),S=Object(o.a)(x,2),k=S[0],P=S[1],C=\"undefined\"===typeof e?k:e,O=v.filter((function(t){return t.props.name===C}));return h(u.a,Object(r.a)({},b,{direction:\"TB\",fullWidth:!0,className:Object(c.a)(f.a.tabs,g)}),h(u.a,{className:f.a.nav,wrap:!1,mainAxis:\"flex-start\"},w.map((function(t){return h(u.a.Item,{key:t.name,className:Object(c.a)(f.a.nav_item,C===t.name?f.a.selected:\"\",t.disabled?f.a.disabled:\"\"),onClick:function(){P(t.name),d(t.name)}},t.name)}))),y?v.map((function(t){return h(\"div\",{key:t.key,style:t.props.name===C?{}:{display:\"none\"}},t)})):O.length>0?O[0]:null)}),{Item:p})},dY07:function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return l})),n.d(e,\"c\",(function(){return f}));var r=n(\"rePB\"),o=n(\"q1tI\"),i=n.n(o),a=(n(\"RrUq\"),i.a.createElement);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t){var e=t.src,n=t.alt,r=void 0===n?\"\":n,o=t.title,i=void 0===o?\"\":o,a=t.initialWidth,s=void 0===a?\"unset\":a,u=t.initialHeight,c=void 0===u?\"unset\":u,l=document.body,f=window.scrollY;l.style.position=\"fixed\",l.style.top=\"\".concat(-f,\"px\");var h=document.createElement(\"div\");h.className=\"image-lightbox\",document.body.appendChild(h);var p=document.createElement(\"span\");p.innerText=\"\\xd7\",p.className=\"close\",h.appendChild(p);var d=document.createElement(\"span\");d.innerText=\"\\u6eda\\u8f6e\\u7f29\\u653e\\u56fe\\u7247\\uff0c\\u62d6\\u62fd\\u4fee\\u6539\\u4f4d\\u7f6e\",d.className=\"hint\",h.appendChild(d);var g=document.createElement(\"p\");g.innerText=i||r,g.innerHTML&&h.appendChild(g);var m=document.createElement(\"img\");m.src=e,m.alt=r,m.title=i,m.style.height=c,m.style.width=s,h.appendChild(m);var y=m.naturalWidth/m.naturalHeight,b=!1,v=0,w=0,x=0,S=0;m.onmousedown=function(t){m.ondragstart=function(){return!1},m.style.cursor=\"grabbing\",b=!0,x=t.offsetX,S=t.offsetY},m.onmousemove=function(t){b&&(v+=t.offsetX-x,w+=t.offsetY-S,m.style.marginLeft=\"\".concat(v,\"px\"),m.style.marginTop=\"\".concat(w,\"px\"))},m.onmouseup=function(t){m.style.cursor=\"grab\",b=!1},m.onclick=function(t){t.stopPropagation()};var k=function(t){var e=m.height-t.deltaY;m.style.maxHeight=\"unset\",m.style.maxWidth=\"unset\",m.style.height=\"\".concat(e,\"px\"),m.style.width=\"\".concat(e*y,\"px\")},P=function(t){27===t.keyCode&&C()},C=function(){document.removeEventListener(\"keydown\",P),document.removeEventListener(\"mousewheel\",k),h.remove(),l.style.position=\"\",l.style.top=\"\",window.scrollTo(0,f)};document.addEventListener(\"keydown\",P),document.addEventListener(\"mousewheel\",k),h.onclick=C,p.onclose=C}e.a=function(t){var e=t.src,n=t.thumbnail,r=void 0===n?e:n,o=t.alt,i=t.title,s=t.height,l=void 0===s?\"100%\":s,f=t.width,h=void 0===f?\"100%\":f,p=t.maxHeight,d=t.clickable,g=void 0!==d&&d,m=t.style;return a(\"div\",{className:\"image-container\",style:u({height:l,width:h,maxHeight:p,cursor:g?\"pointer\":\"unset\"},m),onClick:function(){g&&c({src:e,alt:o,title:i})}},a(\"div\",{className:\"image\",style:{backgroundImage:\"url('\".concat(r,\"')\")}}))};var l=function(t){try{var e=t.parentElement,n=t.src,r=t.alt,o=t.title;e.removeAttribute(\"href\"),e.onclick=function(){return c({src:n,alt:r,title:o})}}catch(i){console.error(i)}},f=function(t){try{t.style.cursor=\"pointer\";var e=(r=t.outerHTML,window.btoa(r.replace(/[\\u00A0-\\u2666]/g,(function(t){return\"&#\".concat(t.charCodeAt(0),\";\")})))).replace(/\\n/g,\"\"),n=t.getAttribute(\"title\")?t.getAttribute(\"title\"):t.parentElement.title;t.onclick=function(){return c({src:\"data:image/svg+xml;base64,\".concat(e,\" \"),title:n,alt:n,initialHeight:\"50%\"})}}catch(o){console.error(o)}var r}}}]);","extractedComments":[]}