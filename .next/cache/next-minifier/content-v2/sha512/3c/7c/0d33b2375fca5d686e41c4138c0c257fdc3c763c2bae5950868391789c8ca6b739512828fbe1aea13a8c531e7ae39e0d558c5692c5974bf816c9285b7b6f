{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{\"/0+H\":function(t,e,n){\"use strict\";e.__esModule=!0,e.isInAmpMode=c,e.useAmp=function(){return c(r.default.useContext(o.AmpStateContext))};var a,r=(a=n(\"q1tI\"))&&a.__esModule?a:{default:a},o=n(\"lwAK\");function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ampFirst,n=void 0!==e&&e,a=t.hybrid,r=void 0!==a&&a,o=t.hasQuery;return n||r&&(void 0!==o&&o)}},\"0Q0/\":function(t,e,n){t.exports={wrapper:\"wrapper___3SAyF\",loading:\"loading___1BGQ5\",onloading:\"onloading___2-1qJ\",inner:\"inner___V82N8\",load:\"load___2AHqz\"}},\"5D78\":function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return r})),n.d(e,\"a\",(function(){return o}));var a=n(\"wvHr\");function r(t){return t.success?Object(a.b)({title:t.title,content:t.content,alertType:\"success\"}):Object(a.b)({title:t.title,content:t.content,alertType:\"error\"}),t.success}function o(t){\"undefined\"!==typeof document&&(Notification.requestPermission(),new Notification(\"\\u901a\\u77e5\",{body:t,icon:\"/static/img/logo_196x196.png\"}))}},\"5fIB\":function(t,e,n){var a=n(\"7eYB\");t.exports=function(t){if(Array.isArray(t))return a(t)}},\"8Kt/\":function(t,e,n){\"use strict\";e.__esModule=!0,e.defaultHead=l,e.default=void 0;var a=i(n(\"q1tI\")),r=i(n(\"Xuae\")),o=n(\"lwAK\"),c=n(\"FYa8\"),u=n(\"/0+H\");function i(t){return t&&t.__esModule?t:{default:t}}function l(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[a.default.createElement(\"meta\",{charSet:\"utf-8\"})];return t||e.push(a.default.createElement(\"meta\",{name:\"viewport\",content:\"width=device-width\"})),e}function s(t,e){return\"string\"===typeof e||\"number\"===typeof e?t:e.type===a.default.Fragment?t.concat(a.default.Children.toArray(e.props.children).reduce((function(t,e){return\"string\"===typeof e||\"number\"===typeof e?t:t.concat(e)}),[])):t.concat(e)}var f=[\"name\",\"httpEquiv\",\"charSet\",\"itemProp\"];function d(t,e){return t.reduce((function(t,e){var n=a.default.Children.toArray(e.props.children);return t.concat(n)}),[]).reduce(s,[]).reverse().concat(l(e.inAmpMode)).filter(function(){var t=new Set,e=new Set,n=new Set,a={};return function(r){var o=!0;if(r.key&&\"number\"!==typeof r.key&&r.key.indexOf(\"$\")>0){var c=r.key.slice(r.key.indexOf(\"$\")+1);t.has(c)?o=!1:t.add(c)}switch(r.type){case\"title\":case\"base\":e.has(r.type)?o=!1:e.add(r.type);break;case\"meta\":for(var u=0,i=f.length;u<i;u++){var l=f[u];if(r.props.hasOwnProperty(l))if(\"charSet\"===l)n.has(l)?o=!1:n.add(l);else{var s=r.props[l],d=a[l]||new Set;d.has(s)?o=!1:(d.add(s),a[l]=d)}}}return o}}()).reverse().map((function(t,e){var n=t.key||e;return a.default.cloneElement(t,{key:n})}))}var m=(0,r.default)();function p(t){var e=t.children;return(a.default.createElement(o.AmpStateContext.Consumer,null,(function(t){return a.default.createElement(c.HeadManagerContext.Consumer,null,(function(n){return a.default.createElement(m,{reduceComponentsToState:d,handleStateChange:n,inAmpMode:(0,u.isInAmpMode)(t)},e)}))})))}p.rewind=m.rewind;var h=p;e.default=h},FcBo:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return F}));var a=n(\"KQm4\"),r=n(\"rePB\"),o=n(\"o0o1\"),c=n.n(o),u=n(\"HaE+\"),i=n(\"ODXe\"),l=n(\"q1tI\"),s=n.n(l),f=n(\"pJr+\"),d=n(\"MfSh\"),m=n(\"HXPj\"),p=n(\"rffq\"),h=n(\"Oi1/\"),v=n(\"bTPZ\"),y=n(\"tJ/W\"),b=n(\"Au3V\"),g=n(\"RtTr\"),w=n(\"Hh1h\"),x=n(\"AoAR\"),j=n(\"dSKx\"),k=n(\"5D78\");var _=function t(e){return e.offsetTop+(e.offsetParent?t(e.offsetParent):0)},S=n(\"PWtr\"),O=n.n(S),C=n(\"3nDQ\"),A=n.n(C),I=n(\"T4vU\"),H=n.n(I),N=s.a.createElement,M=N(\"b\",null,\"\\u5e7f\\u544a\\u8bc4\\u8bba\\uff0c\\u5df2\\u88ab\\u5c4f\\u853d\"),P=N(\"b\",null,\"\\u8be5\\u8bc4\\u8bba\\u5df2\\u88ab\\u5220\\u9664\"),R=\"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",T=s.a.createContext({url:\"\",callback:function(){}});function E(t){return\"blotter-comment-\".concat(t)}var q=function(t){var e=t.id,n=t.closeEditorCallback,a=s.a.useState(\"\"),o=Object(i.a)(a,2),l=o[0],d=o[1],g=s.a.useState(!1),w=Object(i.a)(g,2),j=w[0],_=w[1],S=s.a.useContext(T),C=S.url,A=S.callback,I=s.a.useState(\"\"),H=Object(i.a)(I,2),M=H[0],P=H[1],E=s.a.useState(\"\"),q=Object(i.a)(E,2),B=q[0],D=q[1],F=s.a.useState(!0),K=Object(i.a)(F,2),W=K[0],X=K[1],G=function(){var t=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_(!0),Object(x.b)({url:C,reply:e,email:M,recv:W,raw:B}).then((function(t){Object(k.b)(t)&&(n?n():D(\"\"),A&&A())})).finally((function(){_(!1)}));case 2:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return N(f.a,{subAxis:\"flex-start\",wrap:!1},N(f.a.Item,{style:{flex:\"0 0 5em\",display:\"flex\",justifyContent:\"center\"}},N(m.a,{src:l||R,style:{width:\"2.5em\",height:\"2.5em\"}})),N(f.a.Item,{style:{flex:\"1 1 auto\"}},N(f.a,{direction:\"TB\",fullWidth:!0},N(y.j,{value:M,onBlur:function(){Object(x.g)(M,(function(t){return d(t.avatar)}))},placeholder:\"\\u8f93\\u5165\\u60a8\\u7684\\u90ae\\u7bb1(\\u4ec5\\u7528\\u4e8e\\u6536\\u53d6\\u6709\\u4eba\\u56de\\u590d\\u60a8\\u7684\\u901a\\u77e5\\uff0c\\u4e0d\\u4f1a\\u5728\\u524d\\u7aef\\u6cc4\\u9732)\",style:{width:\"100%\"},onChange:P,hint:\"\"!==M&&!/^(\\w+)(\\.\\w+)*@(\\w+)(\\.\\w+)*.(\\w+)$/i.test(M)&&N(y.d,{error:!0},\"\\u4f60\\u786e\\u5b9a\\u8fd9\\u662f\\u4e00\\u4e2a\\u90ae\\u7bb1\\uff1f\")}),N(y.g,{value:B,rows:5,placeholder:\"\\u793c\\u8c8c\\u4ea4\\u6d41\\uff0c\\u81f3\\u5c115\\u4e2a\\u5b57\\u7b26\",style:{width:\"100%\"},onChange:D,hint:\"\"!==B&&B.length<5&&N(y.d,{error:!0},\"\\u8bc4\\u8bba\\u8fde\\u4e94\\u4e2a\\u5b57\\u90fd\\u4e0d\\u5230\\uff1f\\u4e0d\\u4f1a\\u5427\\u4e0d\\u4f1a\\u5427\")}),N(f.a,null,N(y.a,{value:W,onChange:X},\"\\u6536\\u5230\\u56de\\u590d\\u65f6\\u4f7f\\u7528\\u90ae\\u4ef6\\u901a\\u77e5\"),N(p.d,{trigger:[\"click\",\"hover\"],placement:\"bottom\",style:{lineHeight:\"100%\"},popoverClass:O.a.shadow,popoverStyle:Object(r.a)({boxShadow:\"5px 5px 30px var(--shadow)\"},\"--popover-backgroud\",\"var(--background)\"),component:N(v.a,{style:{background:\"var(--background)\",maxWidth:\"80vw\"}},N(\"p\",null,\"\\u8bc4\\u8bba\\u652f\\u6301Markdown\\uff0c\\u5982\\u679c\\u6709\\u4eba\\u56de\\u590d\\u4f60\\u7684\\u8bc4\\u8bba\\uff0c\\u4f1a\\u6709\\u90ae\\u4ef6\\u63d0\\u9192\\u53d1\\u9001\\u5230\\u4f60\\u7684\\u90ae\\u7bb1\\uff0c\\u5982\\u679c\\u4e0d\\u60f3\\u67e5\\u770b\\uff0c\\u53ef\\u4ee5\\u53d6\\u6d88\"),N(\"p\",null,\"\\u5934\\u50cf\\u5c06\\u4f18\\u5148\\u4f7f\\u7528\\u90ae\\u7bb1\\u5bf9\\u5e94Github\\u8d26\\u6237\\u5934\\u50cf,\\u5982\\u679c\\u83b7\\u53d6\\u5931\\u8d25\\u5c06\\u4f7f\\u7528\",N(\"a\",{href:\"https://cn.gravatar.com/\"},\"Gravatar\"),\"\\u5934\\u50cf\"),N(\"p\",null,\"\\u90ae\\u7bb1\\u5730\\u5740\\u4e0d\\u4f1a\\u5728\\u524d\\u7aef\\u6e32\\u67d3\\uff0c\\u53ef\\u4ee5\\u907f\\u514d\\u88ab\\u626b\\u63cf\\u5de5\\u5177\\u8bb0\\u5f55\\uff0c\\u4f46\\u4ecd\\u53ef\\u80fd\\u901a\\u8fc7\\u5934\\u50cf\\u5730\\u5740\\u9006\\u63a8\\u51fa\\u90ae\\u7bb1\"),N(\"p\",null,\"\\u8bc4\\u8bba\\u5185\\u5bb9\\u8bf7\\u9075\\u5b88\\u76f8\\u5e94\\u6cd5\\u5f8b\\u6cd5\\u89c4\\uff0c\\u5e76\\u4e14\\u8bf7\\u4e0d\\u8981\\u53d1\\u5e03\\u5e7f\\u544a\"))},N(h.F,null)),N(f.a.Item,{style:{flex:\"1 1 auto\",textAlign:\"right\"}},N(b.b,{primary:!0,neumorphism:!0,onClick:G,loading:j,disabled:B.length<5||!/^(\\w+)(\\.\\w+)*@(\\w+)(\\.\\w+)*.(\\w+)$/i.test(M)},\"\\u8bc4\\u8bba\"))))))},B=function t(e){var n,a=e.comment,r=e.depth,o=e.quote,c=e.parent,u=s.a.useState(!1),l=Object(i.a)(u,2),d=l[0],v=l[1],y=Object(g.a)(a.time),b=function(){return N(s.a.Fragment,null,d?N(q,{id:a.id,closeEditorCallback:function(){return v(!1)}}):null,N(D,{comments:a.children,depth:r+1,parent:a}))},x=s.a.useContext(j.a).big_screen?5:2;return n=o?[N(\"span\",{key:\"jump\",className:Object(w.a)(A.a.secondary,A.a.em75),onClick:function(){return function(t){var e=document.getElementById(E(t)),n=_(e);e&&n>0&&scrollTo(0,n+10)}(a.id)},style:{lineHeight:\"100%\"}},\"\\u8df3\\u8f6c\\u5230\\u8be5\\u8bc4\\u8bba\")]:[d?N(\"span\",{key:\"cancel\",className:Object(w.a)(A.a.secondary,A.a.em75),onClick:function(){return v(!1)},style:{cursor:\"pointer\",lineHeight:\"100%\"}},\"\\u53d6\\u6d88\\u56de\\u590d\",N(h.e,null)):N(\"span\",{key:\"reply\",className:Object(w.a)(A.a.secondary,A.a.em75),onClick:function(){return v(!0)},style:{cursor:\"pointer\",lineHeight:\"100%\"}},\"\\u56de\\u590d\"),N(\"span\",{key:\"email\",className:Object(w.a)(A.a.secondary,A.a.em75),style:{lineHeight:\"100%\"}},a.recv?N(p.c,{title:\"\\u5f53\\u4f60\\u56de\\u590d\\u8be5\\u8bc4\\u8bba\\uff0c\\u8bc4\\u8bba\\u8005\\u4f1a\\u6536\\u5230\\u90ae\\u4ef6\\u63d0\\u9192\\uff08\\u4f46\\u662f\\u4ed6/\\u5979\\u4e0d\\u4e00\\u5b9a\\u4f1a\\u770b\\u90ae\\u4ef6\\uff09\"},N(h.y,null)):N(p.c,{title:\"\\u5f53\\u4f60\\u56de\\u590d\\u8be5\\u8bc4\\u8bba\\uff0c\\u8bc4\\u8bba\\u8005\\u4e0d\\u4f1a\\u6536\\u5230\\u90ae\\u4ef6\\u63d0\\u9192\\uff08\\u6240\\u4ee5\\u4f60\\u53ef\\u80fd\\u65e0\\u6cd5\\u5f97\\u5230\\u53cd\\u9988\\uff09\"},N(h.h,null)))],N(\"div\",{id:o?\"\":E(a.id),className:H.a.comment},N(f.a,{subAxis:\"flex-start\",wrap:!1,style:o?{borderLeft:\"#ccc 5px solid\",paddingLeft:10}:{}},N(f.a.Item,{style:{flex:\"0 0 5em\",display:\"flex\",justifyContent:\"center\"}},N(m.a,{src:a.avatar?a.avatar:R,style:{width:\"2.5em\",height:\"2.5em\"}})),N(f.a.Item,{style:{flex:\"1 1 auto\"}},N(f.a,{mainSize:\"small\",direction:\"TB\",fullWidth:!0},N(f.a,{mainAxis:\"flex-start\"},a.email,N(p.c,{title:y.format(\"YYYY-MM-DD HH:mm:ss\")},N(\"span\",{className:Object(w.a)(A.a.secondary,A.a.em75)},y.fromNow()))),N(\"div\",null,a.ad?M:a.show?N(\"div\",null,!o&&1!=r&&r>=x?N(t,{comment:c,depth:r,quote:!0}):null,N(\"div\",{dangerouslySetInnerHTML:{__html:a.content}})):P),N(f.a,{mainAxis:\"flex-start\",subAxis:\"baseline\"},n),!o&&N(\"hr\",null),!o&&r<x?b():null))),!o&&r>=x?b():null)},D=function(t){var e=t.comments,n=t.depth,r=t.parent,o=t.total;return t.loading?N(d.a,null):e.length||1==n?N(f.a,{direction:\"TB\",fullWidth:!0,className:\"comment-list\"},[N(\"p\",{key:\"total\"},o?\"\\u5171 \".concat(o,\" \\u6761\\u8bc4\\u8bba\"):null)].concat(Object(a.a)(e.map((function(t){return N(f.a.Item,{key:t.id},N(B,{comment:t,depth:n,quote:!1,parent:r}))}))))):null};function F(t){var e=t.url,n=s.a.useState(!1),a=Object(i.a)(n,2),r=a[0],o=a[1],c=s.a.useState(0),u=Object(i.a)(c,2),l=u[0],d=u[1],m=s.a.useState([]),p=Object(i.a)(m,2),h=p[0],v=p[1],y=s.a.useCallback((function(){o(!0),Object(x.j)(e).then((function(t){d(t.total),v(t.comments.reverse())})).finally((function(){o(!1)}))}),[o,d,v,e]);return s.a.useEffect((function(){return y()}),[]),N(T.Provider,{value:{url:e,callback:y}},N(f.a,{direction:\"TB\",id:\"blotter-comment\",className:H.a.comments,fullWidth:!0},N(q,{id:\"000000000000\"}),N(D,{comments:h,depth:1,total:l,loading:r})))}},FetM:function(t,e,n){\"use strict\";n.r(e);var a=n(\"1OyB\"),r=n(\"vuIU\"),o=n(\"Ji7U\"),c=n(\"md7G\"),u=n(\"foSv\"),i=n(\"q1tI\"),l=n.n(i),s=n(\"8Kt/\"),f=n.n(s),d=n(\"nOHt\"),m=n(\"bTPZ\"),p=n(\"FcBo\"),h=n(\"dSKx\"),v=l.a.createElement;function y(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(u.a)(t);if(e){var r=Object(u.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var b=function(t){Object(o.a)(n,t);var e=y(n);function n(t){return Object(a.a)(this,n),e.call(this,t)}return Object(r.a)(n,[{key:\"render\",value:function(){return v(m.a,{neumorphism:!0},v(h.a.Consumer,null,(function(t){return v(f.a,null,v(\"title\",null,\"\\u8bc4\\u8bba\\u533a|\".concat(t.blog_name)))})),v(p.a,{url:this.props.router.asPath}))}}]),n}(l.a.Component);e.default=Object(d.withRouter)(b)},HXPj:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return i}));var a=n(\"q1tI\"),r=n.n(a),o=n(\"IrJS\"),c=n.n(o),u=r.a.createElement;function i(t){var e=t.src,n=t.className,a=t.style,r=t.children;return u(\"div\",{className:[n,c.a.avatar].join(\" \"),style:a},!r&&e?u(\"img\",{src:e}):r)}},IrJS:function(t,e,n){t.exports={avatar:\"avatar___FhI1z\"}},MfSh:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return f}));var a=n(\"wx14\"),r=n(\"Ff2n\"),o=n(\"q1tI\"),c=n.n(o),u=n(\"Hh1h\"),i=n(\"0Q0/\"),l=n.n(i),s=c.a.createElement;function f(t){var e=t.count,n=void 0===e?5:e,o=t.loading,c=void 0===o||o,i=t.className,f=t.children,d=Object(r.a)(t,[\"count\",\"loading\",\"className\",\"children\"]);return s(\"div\",Object(a.a)({className:Object(u.a)(l.a.wrapper,c?l.a.onloading:\"\",i)},d),s(\"div\",{className:l.a.loading},Array(n).fill(0).map((function(t,e){return s(\"span\",{key:e,style:{animationDelay:\"\".concat(.2*e,\"s\")}})}))),f&&s(\"div\",{className:l.a.inner},f))}},RtTr:function(t,e,n){\"use strict\";var a=n(\"wd/R\"),r=n.n(a);r.a.locale(\"zh-cn\"),e.a=r.a},RvNR:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/comment\",function(){return n(\"FetM\")}])},Xuae:function(t,e,n){\"use strict\";var a=n(\"/GRZ\"),r=n(\"qXWd\"),o=n(\"i2R6\"),c=n(\"48fX\"),u=n(\"tCBg\"),i=n(\"T0f4\"),l=n(\"mPvQ\");function s(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=i(t);if(e){var r=i(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u(this,n)}}e.__esModule=!0,e.default=void 0;var f=n(\"q1tI\"),d=!1;e.default=function(){var t,e=new Set;function n(n){t=n.props.reduceComponentsToState(l(e),n.props),n.props.handleStateChange&&n.props.handleStateChange(t)}return(function(u){c(l,u);var i=s(l);function l(t){var o;return a(this,l),o=i.call(this,t),d&&(e.add(r(o)),n(r(o))),o}return o(l,null,[{key:\"rewind\",value:function(){var n=t;return t=void 0,e.clear(),n}}]),o(l,[{key:\"componentDidMount\",value:function(){e.add(this),n(this)}},{key:\"componentDidUpdate\",value:function(){n(this)}},{key:\"componentWillUnmount\",value:function(){e.delete(this),n(this)}},{key:\"render\",value:function(){return null}}]),l}(f.Component))}},kG2m:function(t,e){t.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}},lwAK:function(t,e,n){\"use strict\";var a;e.__esModule=!0,e.AmpStateContext=void 0;var r=((a=n(\"q1tI\"))&&a.__esModule?a:{default:a}).default.createContext({});e.AmpStateContext=r},mPvQ:function(t,e,n){var a=n(\"5fIB\"),r=n(\"rlHP\"),o=n(\"KckH\"),c=n(\"kG2m\");t.exports=function(t){return a(t)||r(t)||o(t)||c()}},rlHP:function(t,e){t.exports=function(t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}}},[[\"RvNR\",0,2,12,1,3,4,5,6,7,8,11,9]]]);","extractedComments":[]}