{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[69,22],{\"0r0h\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function e(t){var n=[];return a.default.Children.forEach(t,(function(t){void 0!==t&&null!==t&&(Array.isArray(t)?n=n.concat(e(t)):(0,o.isFragment)(t)&&t.props?n=n.concat(e(t.props.children)):n.push(t))})),n};var r,a=(r=n(\"q1tI\"))&&r.__esModule?r:{default:r},o=n(\"TOwV\")},\"57m7\":function(e,t,n){\"use strict\";n(\"1SKB\"),n(\"m3Kr\")},\"5D78\":function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return o})),n.d(t,\"a\",(function(){return i}));n(\"MQDG\");var r=n(\"rR1Q\"),a=n.n(r);function o(e){return e.success?a.a.success({message:e.title,description:e.content}):a.a.error({message:e.title,description:e.content}),e.success}function i(e){\"undefined\"!==typeof document&&(Notification.requestPermission(),new Notification(\"\\u901a\\u77e5\",{body:e,icon:\"/static/img/logo_196x196.png\"}))}},Cp9S:function(e,t,n){\"use strict\";function r(e){return(r=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!==r(e)&&\"function\"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(\"q1tI\")),o=s(n(\"TSYQ\")),i=s(n(\"0r0h\")),c=n(\"vgIT\");function s(e){return e&&e.__esModule?e:{default:e}}function u(){if(\"function\"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},d={small:8,middle:16,large:24},y=function(e){var t,n=a.useContext(c.ConfigContext),r=n.getPrefixCls,s=n.space,u=n.direction,y=e.size,m=void 0===y?(null===s||void 0===s?void 0:s.size)||\"small\":y,b=e.align,v=e.className,g=e.children,h=e.direction,O=void 0===h?\"horizontal\":h,j=e.prefixCls,w=p(e,[\"size\",\"align\",\"className\",\"children\",\"direction\",\"prefixCls\"]),S=(0,i.default)(g),x=S.length;if(0===x)return null;var P=void 0===b&&\"horizontal\"===O?\"center\":b,_=r(\"space\",j),k=(0,o.default)(_,\"\".concat(_,\"-\").concat(O),(f(t={},\"\".concat(_,\"-rtl\"),\"rtl\"===u),f(t,\"\".concat(_,\"-align-\").concat(P),P),t),v),C=\"\".concat(_,\"-item\"),E=\"rtl\"===u?\"marginLeft\":\"marginRight\";return a.createElement(\"div\",l({className:k},w),S.map((function(e,t){return a.createElement(\"div\",{className:C,key:\"\".concat(C,\"-\").concat(t),style:t===x-1?{}:f({},\"vertical\"===O?\"marginBottom\":E,\"string\"===typeof m?d[m]:m)},e)})))};t.default=y},\"EE/t\":function(e,t,n){\"use strict\";n.r(t);n(\"RV09\");var r=n(\"N9UN\"),a=n.n(r),o=(n(\"X1UN\"),n(\"hqwM\")),i=n.n(o),c=(n(\"SoD3\"),n(\"9xET\")),s=n.n(c),u=(n(\"1mXb\"),n(\"iJl9\")),l=n.n(u),f=(n(\"YKpo\"),n(\"ZPTe\")),p=n.n(f),d=(n(\"89vs\"),n(\"lbd2\")),y=n.n(d),m=(n(\"bAY4\"),n(\"4IMT\")),b=n.n(m),v=(n(\"SJAb\"),n(\"pWf2\")),g=n.n(v),h=n(\"o0o1\"),O=n.n(h),j=n(\"HaE+\"),w=n(\"1OyB\"),S=n(\"vuIU\"),x=n(\"JX7q\"),P=n(\"Ji7U\"),_=n(\"md7G\"),k=n(\"foSv\"),C=n(\"rePB\"),E=n(\"q1tI\"),N=n.n(E),R=n(\"8Kt/\"),I=n.n(R),A=n(\"nOHt\"),D=n(\"pJr+\"),q=n(\"dSKx\"),T=n(\"AoAR\"),M=n(\"5D78\"),W=n(\"IgCw\"),B=N.a.createElement;function z(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(k.a)(e);if(t){var a=Object(k.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(_.a)(this,n)}}var Q=function(e){Object(P.a)(n,e);var t=z(n);function n(e){var r;return Object(w.a)(this,n),r=t.call(this,e),Object(C.a)(Object(x.a)(r),\"context\",void 0),Object(C.a)(Object(x.a)(r),\"getData\",Object(j.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.p)(r.props.router.query.username);case 2:t=e.sent,r.setState({user:t});case 4:case\"end\":return e.stop()}}),e)})))),Object(C.a)(Object(x.a)(r),\"update\",Object(j.a)(O.a.mark((function e(){var t,n,a,o,i,c,s,u,l,f;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loading:!0}),t=r.state.user,n=t.username,a=t.email,o=t.ns_id,i=t.ns_name,c=t.ac_name,s=t.ac_island,u=t.qq,l=t.avatar,e.next=4,Object(T.P)(n,a,l,o,i,c,s,u,r.state.password);case 4:f=e.sent,Object(M.b)(f)&&(r.props.router.push(\"/user/[username]\",\"/user/\".concat(n)),r.context.callback({user:r.state.user})),r.setState({loading:!1});case 7:case\"end\":return e.stop()}}),e)})))),r.state={user:r.props.user,loading:!1,loadingAvatar:!1,password:\"\"},r}return Object(S.a)(n,[{key:\"componentDidMount\",value:function(){this.getData()}},{key:\"render\",value:function(){var e=this,t=[{key:\"avatar\",name:\"\\u5934\\u50cf\",self:!0,rewrite:function(e){return e.replace(\"http://\",\"https://\")}},{key:\"username\",name:\"\\u7528\\u6237\\u540d\",self:!1},{key:\"email\",name:\"\\u90ae\\u7bb1\",self:!1},{key:\"qq\",name:\"QQ \\u53f7\",self:!0},{key:\"ns_id\",name:\"NS ID\",self:!1,prefix:\"SW\",rewrite:function(e){return e.replace(/[^0-9\\-]/g,\"\")}},{key:\"ns_name\",name:\"NS \\u540d\\u79f0\",self:!1},{key:\"ac_name\",name:\"\\u52a8\\u68ee\\u540d\\u79f0\",self:!1},{key:\"ac_island\",name:\"\\u52a8\\u68ee\\u5c9b\\u540d\",self:!1,suffix:\"\\u5c9b\",rewrite:function(e){return e.length>0&&\"\\u5c9b\"==e[e.length-1]&&(e=e.slice(0,e.length-1)),e}}],n=this.state.user.self?t:t.filter((function(e){return!e.self}));return B(a.a,null,B(q.a.Consumer,null,(function(t){return B(I.a,null,B(\"title\",null,\"\".concat(e.props.router.query.username,\"|\\u7528\\u6237\\u9875|\").concat(t.blog_name)))})),B(\"p\",{style:{textAlign:\"center\"}},B(g.a,{size:128,src:this.state.user.avatar})),B(W.a,{condition:this.state.user.self},B(D.b,{direction:\"horizontal\",flexCenter:!0},B(b.a,{loading:this.state.loadingAvatar,onClick:Object(j.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loadingAvatar:!0}),t.next=3,Object(T.g)(e.state.user.email);case 3:n=t.sent,e.setState((function(e){var t=e.user;return t.avatar=n.avatar,{user:t,loadingAvatar:!1}}));case 5:case\"end\":return t.stop()}}),t)})))},\"\\u6839\\u636e\\u90ae\\u7bb1\\u66f4\\u65b0 Github\\u3001Gavatar \\u5934\\u50cf\"),B(\"a\",{href:\"/api/user/qq_avatar\",target:\"_blank\"},B(b.a,{disabled:!this.state.user.qq_connected},\"\\u66f4\\u65b0 QQ \\u5934\\u50cf\")),B(b.a,{onClick:function(){return e.getData()}},\"\\u5237\\u65b0\\u6570\\u636e\"))),B(i.a,{dataSource:n,renderItem:function(t){return B(i.a.Item,{key:t.key},B(s.a,{style:{width:\"100%\"}},B(p.a,{span:4},B(y.a.Text,{strong:!0},t.name)),B(p.a,{span:20},e.state.user.self?B(l.a,{addonBefore:t.prefix,addonAfter:t.suffix,value:e.state.user[t.key],onChange:function(n){var r=n.target.value;t.rewrite&&(r=t.rewrite(r)),e.setState((function(e){var n=e.user;return n[t.key]=r,{user:n}}))}}):B(\"p\",null,t.prefix,\" \",e.state.user[t.key],\" \",t.suffix))))}}),B(W.a,{condition:this.state.user.self},B(D.b,null,B(l.a,{type:\"password\",placeholder:\"\\u5982\\u679c\\u4e0d\\u9700\\u8981\\u4fee\\u6539\\u5bc6\\u7801\\u8bf7\\u7559\\u7a7a\",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),B(s.a,{justify:\"space-between\"},B(p.a,null,this.state.user.qq_connected?B(b.a,{disabled:!0},\"\\u5df2\\u7ed1\\u5b9a QQ \\u767b\\u5f55\"):B(\"a\",{href:\"/api/user/jump_to_qq?state=connect\",target:\"_blank\"},B(b.a,null,\"\\u7ed1\\u5b9a QQ \\u767b\\u5f55\"))),B(p.a,null,this.state.user.github_connected?B(b.a,{disabled:!0},\"\\u5df2\\u7ed1\\u5b9a Github \\u767b\\u5f55\"):B(\"a\",{href:\"/api/user/jump_to_github?state=connect\",target:\"_blank\"},B(b.a,null,\"\\u7ed1\\u5b9a Github \\u767b\\u5f55\"))),B(p.a,{style:{textAlign:\"right\"}},B(b.a,{loading:this.state.loading,type:\"primary\",onClick:this.update},\"\\u66f4\\u65b0\\u4fe1\\u606f\"))))))}}],[{key:\"getInitialProps\",value:function(){var e=Object(j.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.p)(t.query.username);case 2:return n=e.sent,e.abrupt(\"return\",{user:n});case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(N.a.Component);Object(C.a)(Q,\"defaultProps\",{}),Object(C.a)(Q,\"contextType\",q.a),t.default=Object(A.withRouter)(Q)},IgCw:function(e,t,n){\"use strict\";var r=n(\"1OyB\"),a=n(\"vuIU\"),o=n(\"Ji7U\"),i=n(\"md7G\"),c=n(\"foSv\"),s=n(\"rePB\"),u=n(\"q1tI\");function l(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}var f=function(e){Object(o.a)(n,e);var t=l(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(a.a)(n,[{key:\"render\",value:function(){return this.props.condition?this.props.children:null}}]),n}(n.n(u).a.Component);Object(s.a)(f,\"defaultProps\",{condition:!0}),t.a=f},SJAb:function(e,t,n){\"use strict\";n(\"1SKB\"),n(\"Tlp2\")},m3Kr:function(e,t,n){e.exports={\"ant-space\":\"ant-space\",antSpace:\"ant-space\",\"ant-space-vertical\":\"ant-space-vertical\",antSpaceVertical:\"ant-space-vertical\",\"ant-space-align-center\":\"ant-space-align-center\",antSpaceAlignCenter:\"ant-space-align-center\",\"ant-space-align-start\":\"ant-space-align-start\",antSpaceAlignStart:\"ant-space-align-start\",\"ant-space-align-end\":\"ant-space-align-end\",antSpaceAlignEnd:\"ant-space-align-end\",\"ant-space-align-baseline\":\"ant-space-align-baseline\",antSpaceAlignBaseline:\"ant-space-align-baseline\",\"ant-space-rtl\":\"ant-space-rtl\",antSpaceRtl:\"ant-space-rtl\"}},\"pJr+\":function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return p})),n.d(t,\"c\",(function(){return d})),n.d(t,\"a\",(function(){return b}));n(\"57m7\");var r=n(\"Cp9S\"),a=n.n(r),o=n(\"rePB\"),i=n(\"q1tI\"),c=n.n(i);function s(e,t){var n={};for(var r in e){var a=e[r];t(r,a)&&(n[r]=a)}return n}n(\"dSKx\");var u=c.a.createElement;function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.direction,n=void 0===t?\"vertical\":t,r=e.size,o=e.textCenter,i=void 0!==o&&o,c=e.flexCenter,s=void 0!==c&&c,l=e.className,p=e.children,d=e.style,y=e.flex,m={};y&&(m={flex:\"auto\",justifyContent:y});var b=[l,\"fullWidth\"];return s&&b.push(\"flexCenter\"),i&&b.push(\"textCenter\"),u(a.a,{className:b.join(\" \"),direction:n,size:r,style:f(f({},m),d)},p)},d=function(e){return u(\"div\",{className:\"textCenter\"},e.children)};function y(e){return\"large\"===e?20:\"middle\"===e?10:\"small\"===e?5:\"none\"===e?0:e}var m=function e(t){var n=t.style,r=void 0===n?{}:n,a=t.className,o=void 0===a?\"\":a,i=t.children;if(!i)return null;var c=i.key;if(!Array.isArray(i)&&i.type&&i.type.name&&i.type.displayName===e.displayName){var s=i.props,l=s.style,p=s.className,d=s.children;r=f(f({},r),l),o=[o,p].filter((function(e){return\"\"!=e})).join(\" \"),i=d}return u(\"div\",{key:c,style:r,className:o},i)};m.displayName=\"FlexItem\";var b=Object.assign((function(e){var t,n,r,a=e.direction,i=void 0===a?\"LR\":a,c=e.wrap,l=void 0===c||c,p=e.mainSize,d=void 0===p?\"middle\":p,b=e.subSize,v=void 0===b?0:b,g=e.mainAxis,h=void 0===g?\"space-between\":g,O=e.subAxis,j=void 0===O?\"center\":O,w=e.itemStyle,S=void 0===w?{}:w,x=e.fullWidth,P=void 0!==x&&x,_=e.children,k=e.style,C=e.className,E=e.id,N=(Array.isArray(_)?_:[_]).filter((function(e){return!!e})),R=\"LR\"===i?\"row\":\"TB\"===i?\"column\":i,I=y(d),A=y(v),D={display:\"flex\",flexDirection:R,flexWrap:!0===l?\"wrap\":!1===l?\"nowrap\":l,justifyContent:h,alignItems:j},q={},T={},M=\"marginRight\",W=\"marginLeft\",B=\"marginTop\",z=\"marginBottom\",Q=\"space-around\"===h?\"row\"===R||\"column\"===R?0:N.length-1:\"row\"===R||\"column\"===R?N.length-1:0;switch(R){case\"row\":M=\"marginRight\",W=\"marginLeft\",B=\"marginTop\",z=\"marginBottom\";break;case\"column\":M=\"marginBottom\",W=\"marginTop\",B=\"marginLeft\",z=\"marginRight\";break;case\"row-reverse\":M=\"marginLeft\",W=\"marginRight\",B=\"marginTop\",z=\"marginBottom\";break;case\"column-reverse\":M=\"marginTop\",W=\"marginBottom\",B=\"marginLeft\",z=\"marginRight\"}\"space-around\"===h?(t={},Object(o.a)(t,M,I),Object(o.a)(t,B,A),Object(o.a)(t,z,A),q=t,n={},Object(o.a)(n,M,I),Object(o.a)(n,W,I),Object(o.a)(n,B,A),Object(o.a)(n,z,A),T=n):(r={},Object(o.a)(r,M,I),Object(o.a)(r,z,A),q=r,T=Object(o.a)({},z,A));return q=s(q,(function(e,t){return 0!=t})),T=s(T,(function(e,t){return 0!=t})),u(\"div\",{id:E,className:C,style:f(f(f({},P?{width:\"100%\"}:{}),D),k)},N.map((function(e,t){return u(m,{key:t,style:f(f(f({},P?{width:\"100%\"}:{}),t===Q?T:q),S)},e)})))}),{Item:m})},pWf2:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!==u(e)&&\"function\"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(\"q1tI\")),a=c(n(\"TSYQ\")),o=n(\"vgIT\"),i=c(n(\"m4nH\"));function c(e){return e&&e.__esModule?e:{default:e}}function s(){if(\"function\"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){return(u=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||\"object\"!==u(t)&&\"function\"!==typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},g=function(e){!function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,e);var t,n,c,s=y(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u),(e=s.apply(this,arguments)).state={scale:1,mounted:!1,isImgExist:!0},e.setScale=function(){if(e.avatarChildren&&e.avatarNode){var t=e.avatarChildren.offsetWidth,n=e.avatarNode.offsetWidth,r=e.props.gap,a=void 0===r?4:r;0===t||0===n||e.lastChildrenWidth===t&&e.lastNodeWidth===n||(e.lastChildrenWidth=t,e.lastNodeWidth=n),2*a<n&&e.setState({scale:n-2*a<t?(n-2*a)/t:1})}},e.handleImgLoadError=function(){var t=e.props.onError;!1!==(t?t():void 0)&&e.setState({isImgExist:!1})},e.renderAvatar=function(t){var n,o,c=t.getPrefixCls,s=e.props,u=s.prefixCls,p=s.shape,d=s.size,y=s.src,m=s.srcSet,b=s.icon,g=s.className,h=s.alt,O=s.draggable,j=v(s,[\"prefixCls\",\"shape\",\"size\",\"src\",\"srcSet\",\"icon\",\"className\",\"alt\",\"draggable\"]);(0,i.default)(!(\"string\"===typeof b&&b.length>2),\"Avatar\",\"`icon` is using ReactNode instead of string naming in v4. Please check `\".concat(b,\"` at https://ant.design/components/icon\"));var w=e.state,S=w.isImgExist,x=w.scale,P=(w.mounted,c(\"avatar\",u)),_=(0,a.default)((f(n={},\"\".concat(P,\"-lg\"),\"large\"===d),f(n,\"\".concat(P,\"-sm\"),\"small\"===d),n)),k=(0,a.default)(P,g,_,(f(o={},\"\".concat(P,\"-\").concat(p),p),f(o,\"\".concat(P,\"-image\"),y&&S),f(o,\"\".concat(P,\"-icon\"),b),o)),C=\"number\"===typeof d?{width:d,height:d,lineHeight:\"\".concat(d,\"px\"),fontSize:b?d/2:18}:{},E=e.props.children;if(y&&S)E=r.createElement(\"img\",{src:y,draggable:O,srcSet:m,onError:e.handleImgLoadError,alt:h});else if(b)E=b;else{if(e.avatarChildren||1!==x){var N=\"scale(\".concat(x,\") translateX(-50%)\"),R={msTransform:N,WebkitTransform:N,transform:N},I=\"number\"===typeof d?{lineHeight:\"\".concat(d,\"px\")}:{};E=r.createElement(\"span\",{className:\"\".concat(P,\"-string\"),ref:function(t){return e.avatarChildren=t},style:l(l({},I),R)},E)}else{E=r.createElement(\"span\",{className:\"\".concat(P,\"-string\"),style:{opacity:0},ref:function(t){return e.avatarChildren=t}},E)}}return delete j.onError,delete j.gap,r.createElement(\"span\",l({},j,{style:l(l({},C),j.style),className:k,ref:function(t){return e.avatarNode=t}}),E)},e}return t=u,(n=[{key:\"componentDidMount\",value:function(){this.setScale(),this.setState({mounted:!0})}},{key:\"componentDidUpdate\",value:function(e){e.src!==this.props.src&&this.setState({isImgExist:!0,scale:1}),e.children===this.props.children&&e.gap===this.props.gap||this.setScale()}},{key:\"render\",value:function(){return r.createElement(o.ConfigConsumer,null,this.renderAvatar)}}])&&p(t.prototype,n),c&&p(t,c),u}(r.Component);t.default=g,g.defaultProps={shape:\"circle\",size:\"default\"}},rc3b:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/user/[username]\",function(){return n(\"EE/t\")}])}},[[\"rc3b\",0,2,1,3,5,6,7,8,11,10,13,12,15,14,17,16,18,20,24,28,29,4]]]);","extractedComments":[]}