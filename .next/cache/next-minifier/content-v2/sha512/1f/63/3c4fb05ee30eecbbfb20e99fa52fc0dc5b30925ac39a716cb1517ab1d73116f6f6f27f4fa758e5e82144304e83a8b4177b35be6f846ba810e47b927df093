{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{\"57m7\":function(t,e,n){\"use strict\";n(\"1SKB\"),n(\"m3Kr\")},\"5D78\":function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return r})),n.d(e,\"a\",(function(){return i}));n(\"MQDG\");var a=n(\"rR1Q\"),o=n.n(a);function r(t){return t.success?o.a.success({message:t.title,description:t.content}):o.a.error({message:t.title,description:t.content}),t.success}function i(t){\"undefined\"!==typeof document&&(Notification.requestPermission(),new Notification(\"\\u901a\\u77e5\",{body:t,icon:\"/static/img/logo_196x196.png\"}))}},Cp9S:function(t,e,n){\"use strict\";function a(t){return(a=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||\"object\"!==a(t)&&\"function\"!==typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=o?Object.getOwnPropertyDescriptor(t,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=t[r]}n.default=t,e&&e.set(t,n);return n}(n(\"q1tI\")),r=c(n(\"TSYQ\")),i=c(n(\"0r0h\")),l=n(\"vgIT\");function c(t){return t&&t.__esModule?t:{default:t}}function s(){if(\"function\"!==typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&\"function\"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]])}return n},m={small:8,middle:16,large:24},d=function(t){var e,n=o.useContext(l.ConfigContext),a=n.getPrefixCls,c=n.space,s=n.direction,d=t.size,g=void 0===d?(null===c||void 0===c?void 0:c.size)||\"small\":d,y=t.align,b=t.className,h=t.children,v=t.direction,O=void 0===v?\"horizontal\":v,j=t.prefixCls,w=f(t,[\"size\",\"align\",\"className\",\"children\",\"direction\",\"prefixCls\"]),P=(0,i.default)(h),S=P.length;if(0===S)return null;var T=void 0===y&&\"horizontal\"===O?\"center\":y,x=a(\"space\",j),k=(0,r.default)(x,\"\".concat(x,\"-\").concat(O),(u(e={},\"\".concat(x,\"-rtl\"),\"rtl\"===s),u(e,\"\".concat(x,\"-align-\").concat(T),T),e),b),_=\"\".concat(x,\"-item\"),C=\"rtl\"===s?\"marginLeft\":\"marginRight\";return o.createElement(\"div\",p({className:k},w),P.map((function(t,e){return o.createElement(\"div\",{className:_,key:\"\".concat(_,\"-\").concat(e),style:e===S-1?{}:u({},\"vertical\"===O?\"marginBottom\":C,\"string\"===typeof g?m[g]:g)},t)})))};e.default=d},\"EE/t\":function(t,e,n){\"use strict\";n.r(e);n(\"RV09\");var a=n(\"N9UN\"),o=n.n(a),r=(n(\"X1UN\"),n(\"hqwM\")),i=n.n(r),l=(n(\"SoD3\"),n(\"9xET\")),c=n.n(l),s=(n(\"1mXb\"),n(\"iJl9\")),p=n.n(s),u=(n(\"YKpo\"),n(\"ZPTe\")),f=n.n(u),m=(n(\"89vs\"),n(\"lbd2\")),d=n.n(m),g=(n(\"bAY4\"),n(\"4IMT\")),y=n.n(g),b=(n(\"SJAb\"),n(\"pWf2\")),h=n.n(b),v=n(\"o0o1\"),O=n.n(v),j=n(\"HaE+\"),w=n(\"1OyB\"),P=n(\"vuIU\"),S=n(\"JX7q\"),T=n(\"Ji7U\"),x=n(\"md7G\"),k=n(\"foSv\"),_=n(\"rePB\"),C=n(\"q1tI\"),R=n.n(C),N=n(\"8Kt/\"),E=n.n(N),B=n(\"nOHt\"),I=n(\"pJr+\"),A=n(\"dSKx\"),D=n(\"AoAR\"),L=n(\"5D78\"),q=n(\"IgCw\"),W=R.a.createElement;function M(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(k.a)(t);if(e){var o=Object(k.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(x.a)(this,n)}}var z=function(t){Object(T.a)(n,t);var e=M(n);function n(t){var a;return Object(w.a)(this,n),a=e.call(this,t),Object(_.a)(Object(S.a)(a),\"context\",void 0),Object(_.a)(Object(S.a)(a),\"getData\",Object(j.a)(O.a.mark((function t(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.p)(a.props.router.query.username);case 2:e=t.sent,a.setState({user:e});case 4:case\"end\":return t.stop()}}),t)})))),Object(_.a)(Object(S.a)(a),\"update\",Object(j.a)(O.a.mark((function t(){var e,n,o,r,i,l,c,s,p,u;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({loading:!0}),e=a.state.user,n=e.username,o=e.email,r=e.ns_id,i=e.ns_name,l=e.ac_name,c=e.ac_island,s=e.qq,p=e.avatar,t.next=4,Object(D.P)(n,o,p,r,i,l,c,s,a.state.password);case 4:u=t.sent,Object(L.b)(u)&&(a.props.router.push(\"/user/[username]\",\"/user/\".concat(n)),a.context.callback({user:a.state.user})),a.setState({loading:!1});case 7:case\"end\":return t.stop()}}),t)})))),a.state={user:a.props.user,loading:!1,loadingAvatar:!1,password:\"\"},a}return Object(P.a)(n,[{key:\"componentDidMount\",value:function(){this.getData()}},{key:\"render\",value:function(){var t=this,e=[{key:\"avatar\",name:\"\\u5934\\u50cf\",self:!0,rewrite:function(t){return t.replace(\"http://\",\"https://\")}},{key:\"username\",name:\"\\u7528\\u6237\\u540d\",self:!1},{key:\"email\",name:\"\\u90ae\\u7bb1\",self:!1},{key:\"qq\",name:\"QQ \\u53f7\",self:!0},{key:\"ns_id\",name:\"NS ID\",self:!1,prefix:\"SW\",rewrite:function(t){return t.replace(/[^0-9\\-]/g,\"\")}},{key:\"ns_name\",name:\"NS \\u540d\\u79f0\",self:!1},{key:\"ac_name\",name:\"\\u52a8\\u68ee\\u540d\\u79f0\",self:!1},{key:\"ac_island\",name:\"\\u52a8\\u68ee\\u5c9b\\u540d\",self:!1,suffix:\"\\u5c9b\",rewrite:function(t){return t.length>0&&\"\\u5c9b\"==t[t.length-1]&&(t=t.slice(0,t.length-1)),t}}],n=this.state.user.self?e:e.filter((function(t){return!t.self}));return W(o.a,null,W(A.a.Consumer,null,(function(e){return W(E.a,null,W(\"title\",null,\"\".concat(t.props.router.query.username,\"|\\u7528\\u6237\\u9875|\").concat(e.blog_name)))})),W(\"p\",{style:{textAlign:\"center\"}},W(h.a,{size:128,src:this.state.user.avatar})),W(q.a,{condition:this.state.user.self},W(I.b,{direction:\"horizontal\",flexCenter:!0},W(y.a,{loading:this.state.loadingAvatar,onClick:Object(j.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loadingAvatar:!0}),e.next=3,Object(D.g)(t.state.user.email);case 3:n=e.sent,t.setState((function(t){var e=t.user;return e.avatar=n.avatar,{user:e,loadingAvatar:!1}}));case 5:case\"end\":return e.stop()}}),e)})))},\"\\u6839\\u636e\\u90ae\\u7bb1\\u66f4\\u65b0 Github\\u3001Gavatar \\u5934\\u50cf\"),W(\"a\",{href:\"/api/user/qq_avatar\",target:\"_blank\"},W(y.a,{disabled:!this.state.user.qq_connected},\"\\u66f4\\u65b0 QQ \\u5934\\u50cf\")),W(y.a,{onClick:function(){return t.getData()}},\"\\u5237\\u65b0\\u6570\\u636e\"))),W(i.a,{dataSource:n,renderItem:function(e){return W(i.a.Item,{key:e.key},W(c.a,{style:{width:\"100%\"}},W(f.a,{span:4},W(d.a.Text,{strong:!0},e.name)),W(f.a,{span:20},t.state.user.self?W(p.a,{addonBefore:e.prefix,addonAfter:e.suffix,value:t.state.user[e.key],onChange:function(n){var a=n.target.value;e.rewrite&&(a=e.rewrite(a)),t.setState((function(t){var n=t.user;return n[e.key]=a,{user:n}}))}}):W(\"p\",null,e.prefix,\" \",t.state.user[e.key],\" \",e.suffix))))}}),W(q.a,{condition:this.state.user.self},W(I.b,null,W(p.a,{type:\"password\",placeholder:\"\\u5982\\u679c\\u4e0d\\u9700\\u8981\\u4fee\\u6539\\u5bc6\\u7801\\u8bf7\\u7559\\u7a7a\",value:this.state.password,onChange:function(e){return t.setState({password:e.target.value})}}),W(c.a,{justify:\"space-between\"},W(f.a,null,this.state.user.qq_connected?W(y.a,{disabled:!0},\"\\u5df2\\u7ed1\\u5b9a QQ \\u767b\\u5f55\"):W(\"a\",{href:\"/api/user/jump_to_qq?state=connect\",target:\"_blank\"},W(y.a,null,\"\\u7ed1\\u5b9a QQ \\u767b\\u5f55\"))),W(f.a,null,this.state.user.github_connected?W(y.a,{disabled:!0},\"\\u5df2\\u7ed1\\u5b9a Github \\u767b\\u5f55\"):W(\"a\",{href:\"/api/user/jump_to_github?state=connect\",target:\"_blank\"},W(y.a,null,\"\\u7ed1\\u5b9a Github \\u767b\\u5f55\"))),W(f.a,{style:{textAlign:\"right\"}},W(y.a,{loading:this.state.loading,type:\"primary\",onClick:this.update},\"\\u66f4\\u65b0\\u4fe1\\u606f\"))))))}}],[{key:\"getInitialProps\",value:function(){var t=Object(j.a)(O.a.mark((function t(e){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.p)(e.query.username);case 2:return n=t.sent,t.abrupt(\"return\",{user:n});case 4:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),n}(R.a.Component);Object(_.a)(z,\"defaultProps\",{}),Object(_.a)(z,\"contextType\",A.a),e.default=Object(B.withRouter)(z)},IgCw:function(t,e,n){\"use strict\";var a=n(\"1OyB\"),o=n(\"vuIU\"),r=n(\"Ji7U\"),i=n(\"md7G\"),l=n(\"foSv\"),c=n(\"rePB\"),s=n(\"q1tI\");function p(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var u=function(t){Object(r.a)(n,t);var e=p(n);function n(t){return Object(a.a)(this,n),e.call(this,t)}return Object(o.a)(n,[{key:\"render\",value:function(){return this.props.condition?this.props.children:null}}]),n}(n.n(s).a.Component);Object(c.a)(u,\"defaultProps\",{condition:!0}),e.a=u},QU2i:function(t,e,n){\"use strict\";n(\"1SKB\"),n(\"iGLF\")},SJAb:function(t,e,n){\"use strict\";n(\"1SKB\"),n(\"Tlp2\")},iGLF:function(t,e,n){t.exports={\"ant-tooltip\":\"ant-tooltip\",antTooltip:\"ant-tooltip\",\"ant-tooltip-hidden\":\"ant-tooltip-hidden\",antTooltipHidden:\"ant-tooltip-hidden\",\"ant-tooltip-placement-top\":\"ant-tooltip-placement-top\",antTooltipPlacementTop:\"ant-tooltip-placement-top\",\"ant-tooltip-placement-topLeft\":\"ant-tooltip-placement-topLeft\",antTooltipPlacementTopLeft:\"ant-tooltip-placement-topLeft\",\"ant-tooltip-placement-topRight\":\"ant-tooltip-placement-topRight\",antTooltipPlacementTopRight:\"ant-tooltip-placement-topRight\",\"ant-tooltip-placement-right\":\"ant-tooltip-placement-right\",antTooltipPlacementRight:\"ant-tooltip-placement-right\",\"ant-tooltip-placement-rightTop\":\"ant-tooltip-placement-rightTop\",antTooltipPlacementRightTop:\"ant-tooltip-placement-rightTop\",\"ant-tooltip-placement-rightBottom\":\"ant-tooltip-placement-rightBottom\",antTooltipPlacementRightBottom:\"ant-tooltip-placement-rightBottom\",\"ant-tooltip-placement-bottom\":\"ant-tooltip-placement-bottom\",antTooltipPlacementBottom:\"ant-tooltip-placement-bottom\",\"ant-tooltip-placement-bottomLeft\":\"ant-tooltip-placement-bottomLeft\",antTooltipPlacementBottomLeft:\"ant-tooltip-placement-bottomLeft\",\"ant-tooltip-placement-bottomRight\":\"ant-tooltip-placement-bottomRight\",antTooltipPlacementBottomRight:\"ant-tooltip-placement-bottomRight\",\"ant-tooltip-placement-left\":\"ant-tooltip-placement-left\",antTooltipPlacementLeft:\"ant-tooltip-placement-left\",\"ant-tooltip-placement-leftTop\":\"ant-tooltip-placement-leftTop\",antTooltipPlacementLeftTop:\"ant-tooltip-placement-leftTop\",\"ant-tooltip-placement-leftBottom\":\"ant-tooltip-placement-leftBottom\",antTooltipPlacementLeftBottom:\"ant-tooltip-placement-leftBottom\",\"ant-tooltip-inner\":\"ant-tooltip-inner\",antTooltipInner:\"ant-tooltip-inner\",\"ant-tooltip-arrow\":\"ant-tooltip-arrow\",antTooltipArrow:\"ant-tooltip-arrow\",\"ant-tooltip-arrow-content\":\"ant-tooltip-arrow-content\",antTooltipArrowContent:\"ant-tooltip-arrow-content\",\"ant-tooltip-pink\":\"ant-tooltip-pink\",antTooltipPink:\"ant-tooltip-pink\",\"ant-tooltip-magenta\":\"ant-tooltip-magenta\",antTooltipMagenta:\"ant-tooltip-magenta\",\"ant-tooltip-red\":\"ant-tooltip-red\",antTooltipRed:\"ant-tooltip-red\",\"ant-tooltip-volcano\":\"ant-tooltip-volcano\",antTooltipVolcano:\"ant-tooltip-volcano\",\"ant-tooltip-orange\":\"ant-tooltip-orange\",antTooltipOrange:\"ant-tooltip-orange\",\"ant-tooltip-yellow\":\"ant-tooltip-yellow\",antTooltipYellow:\"ant-tooltip-yellow\",\"ant-tooltip-gold\":\"ant-tooltip-gold\",antTooltipGold:\"ant-tooltip-gold\",\"ant-tooltip-cyan\":\"ant-tooltip-cyan\",antTooltipCyan:\"ant-tooltip-cyan\",\"ant-tooltip-lime\":\"ant-tooltip-lime\",antTooltipLime:\"ant-tooltip-lime\",\"ant-tooltip-green\":\"ant-tooltip-green\",antTooltipGreen:\"ant-tooltip-green\",\"ant-tooltip-blue\":\"ant-tooltip-blue\",antTooltipBlue:\"ant-tooltip-blue\",\"ant-tooltip-geekblue\":\"ant-tooltip-geekblue\",antTooltipGeekblue:\"ant-tooltip-geekblue\",\"ant-tooltip-purple\":\"ant-tooltip-purple\",antTooltipPurple:\"ant-tooltip-purple\",\"ant-tooltip-rtl\":\"ant-tooltip-rtl\",antTooltipRtl:\"ant-tooltip-rtl\"}},m3Kr:function(t,e,n){t.exports={\"ant-space\":\"ant-space\",antSpace:\"ant-space\",\"ant-space-vertical\":\"ant-space-vertical\",antSpaceVertical:\"ant-space-vertical\",\"ant-space-align-center\":\"ant-space-align-center\",antSpaceAlignCenter:\"ant-space-align-center\",\"ant-space-align-start\":\"ant-space-align-start\",antSpaceAlignStart:\"ant-space-align-start\",\"ant-space-align-end\":\"ant-space-align-end\",antSpaceAlignEnd:\"ant-space-align-end\",\"ant-space-align-baseline\":\"ant-space-align-baseline\",antSpaceAlignBaseline:\"ant-space-align-baseline\",\"ant-space-rtl\":\"ant-space-rtl\",antSpaceRtl:\"ant-space-rtl\"}},\"pJr+\":function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return f})),n.d(e,\"c\",(function(){return m})),n.d(e,\"a\",(function(){return y}));n(\"57m7\");var a=n(\"Cp9S\"),o=n.n(a),r=n(\"rePB\"),i=n(\"q1tI\"),l=n.n(i);function c(t,e){var n={};for(var a in t){var o=t[a];e(a,o)&&(n[a]=o)}return n}n(\"dSKx\");var s=l.a.createElement;function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=function(t){var e=t.direction,n=void 0===e?\"vertical\":e,a=t.size,r=t.textCenter,i=void 0!==r&&r,l=t.flexCenter,c=void 0!==l&&l,p=t.className,f=t.children,m=t.style,d=t.flex,g={};d&&(g={flex:\"auto\",justifyContent:d});var y=[p,\"fullWidth\"];return c&&y.push(\"flexCenter\"),i&&y.push(\"textCenter\"),s(o.a,{className:y.join(\" \"),direction:n,size:a,style:u(u({},g),m)},f)},m=function(t){return s(\"div\",{className:\"textCenter\"},t.children)};function d(t){return\"large\"===t?20:\"middle\"===t?10:\"small\"===t?5:\"none\"===t?0:t}var g=function t(e){var n=e.style,a=void 0===n?{}:n,o=e.className,r=void 0===o?\"\":o,i=e.children;if(!i)return null;var l=i.key;if(!Array.isArray(i)&&i.type&&i.type.name&&i.type.displayName===t.displayName){var c=i.props,p=c.style,f=c.className,m=c.children;a=u(u({},a),p),r=[r,f].filter((function(t){return\"\"!=t})).join(\" \"),i=m}return s(\"div\",{key:l,style:a,className:r},i)};g.displayName=\"FlexItem\";var y=Object.assign((function(t){var e,n,a,o=t.direction,i=void 0===o?\"LR\":o,l=t.wrap,p=void 0===l||l,f=t.mainSize,m=void 0===f?\"middle\":f,y=t.subSize,b=void 0===y?0:y,h=t.mainAxis,v=void 0===h?\"space-between\":h,O=t.subAxis,j=void 0===O?\"center\":O,w=t.itemStyle,P=void 0===w?{}:w,S=t.fullWidth,T=void 0!==S&&S,x=t.children,k=t.style,_=t.className,C=(Array.isArray(x)?x:[x]).filter((function(t){return!!t})),R=\"LR\"===i?\"row\":\"TB\"===i?\"column\":i,N=d(m),E=d(b),B={display:\"flex\",flexDirection:R,flexWrap:!0===p?\"wrap\":!1===p?\"nowrap\":p,justifyContent:v,alignItems:j},I={},A={},D=\"marginRight\",L=\"marginLeft\",q=\"marginTop\",W=\"marginBottom\",M=\"space-around\"===v?\"row\"===R||\"column\"===R?0:C.length-1:\"row\"===R||\"column\"===R?C.length-1:0;switch(R){case\"row\":D=\"marginRight\",L=\"marginLeft\",q=\"marginTop\",W=\"marginBottom\";break;case\"column\":D=\"marginBottom\",L=\"marginTop\",q=\"marginLeft\",W=\"marginRight\";break;case\"row-reverse\":D=\"marginLeft\",L=\"marginRight\",q=\"marginTop\",W=\"marginBottom\";break;case\"column-reverse\":D=\"marginTop\",L=\"marginBottom\",q=\"marginLeft\",W=\"marginRight\"}\"space-around\"===v?(e={},Object(r.a)(e,D,N),Object(r.a)(e,q,E),Object(r.a)(e,W,E),I=e,n={},Object(r.a)(n,D,N),Object(r.a)(n,L,N),Object(r.a)(n,q,E),Object(r.a)(n,W,E),A=n):(a={},Object(r.a)(a,D,N),Object(r.a)(a,W,E),I=a,A=Object(r.a)({},W,E));return I=c(I,(function(t,e){return 0!=e})),A=c(A,(function(t,e){return 0!=e})),s(\"div\",{className:_,style:u(u(u({},T?{width:\"100%\"}:{}),B),k)},C.map((function(t,e){return s(g,{key:e,style:u(u(u({},T?{width:\"100%\"}:{}),e===M?A:I),P)},t)})))}),{Item:g})},pWf2:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var a=function(t){if(t&&t.__esModule)return t;if(null===t||\"object\"!==s(t)&&\"function\"!==typeof t)return{default:t};var e=c();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=a?Object.getOwnPropertyDescriptor(t,o):null;r&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(\"q1tI\")),o=l(n(\"TSYQ\")),r=n(\"vgIT\"),i=l(n(\"m4nH\"));function l(t){return t&&t.__esModule?t:{default:t}}function c(){if(\"function\"!==typeof WeakMap)return null;var t=new WeakMap;return c=function(){return t},t}function s(t){return(s=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return g(this,n)}}function g(t,e){return!e||\"object\"!==s(e)&&\"function\"!==typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&\"function\"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]])}return n},h=function(t){!function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(s,t);var e,n,l,c=d(s);function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,s),(t=c.apply(this,arguments)).state={scale:1,mounted:!1,isImgExist:!0},t.setScale=function(){if(t.avatarChildren&&t.avatarNode){var e=t.avatarChildren.offsetWidth,n=t.avatarNode.offsetWidth,a=t.props.gap,o=void 0===a?4:a;0===e||0===n||t.lastChildrenWidth===e&&t.lastNodeWidth===n||(t.lastChildrenWidth=e,t.lastNodeWidth=n),2*o<n&&t.setState({scale:n-2*o<e?(n-2*o)/e:1})}},t.handleImgLoadError=function(){var e=t.props.onError;!1!==(e?e():void 0)&&t.setState({isImgExist:!1})},t.renderAvatar=function(e){var n,r,l=e.getPrefixCls,c=t.props,s=c.prefixCls,f=c.shape,m=c.size,d=c.src,g=c.srcSet,y=c.icon,h=c.className,v=c.alt,O=c.draggable,j=b(c,[\"prefixCls\",\"shape\",\"size\",\"src\",\"srcSet\",\"icon\",\"className\",\"alt\",\"draggable\"]);(0,i.default)(!(\"string\"===typeof y&&y.length>2),\"Avatar\",\"`icon` is using ReactNode instead of string naming in v4. Please check `\".concat(y,\"` at https://ant.design/components/icon\"));var w=t.state,P=w.isImgExist,S=w.scale,T=(w.mounted,l(\"avatar\",s)),x=(0,o.default)((u(n={},\"\".concat(T,\"-lg\"),\"large\"===m),u(n,\"\".concat(T,\"-sm\"),\"small\"===m),n)),k=(0,o.default)(T,h,x,(u(r={},\"\".concat(T,\"-\").concat(f),f),u(r,\"\".concat(T,\"-image\"),d&&P),u(r,\"\".concat(T,\"-icon\"),y),r)),_=\"number\"===typeof m?{width:m,height:m,lineHeight:\"\".concat(m,\"px\"),fontSize:y?m/2:18}:{},C=t.props.children;if(d&&P)C=a.createElement(\"img\",{src:d,draggable:O,srcSet:g,onError:t.handleImgLoadError,alt:v});else if(y)C=y;else{if(t.avatarChildren||1!==S){var R=\"scale(\".concat(S,\") translateX(-50%)\"),N={msTransform:R,WebkitTransform:R,transform:R},E=\"number\"===typeof m?{lineHeight:\"\".concat(m,\"px\")}:{};C=a.createElement(\"span\",{className:\"\".concat(T,\"-string\"),ref:function(e){return t.avatarChildren=e},style:p(p({},E),N)},C)}else{C=a.createElement(\"span\",{className:\"\".concat(T,\"-string\"),style:{opacity:0},ref:function(e){return t.avatarChildren=e}},C)}}return delete j.onError,delete j.gap,a.createElement(\"span\",p({},j,{style:p(p({},_),j.style),className:k,ref:function(e){return t.avatarNode=e}}),C)},t}return e=s,(n=[{key:\"componentDidMount\",value:function(){this.setScale(),this.setState({mounted:!0})}},{key:\"componentDidUpdate\",value:function(t){t.src!==this.props.src&&this.setState({isImgExist:!0,scale:1}),t.children===this.props.children&&t.gap===this.props.gap||this.setScale()}},{key:\"render\",value:function(){return a.createElement(r.ConfigConsumer,null,this.renderAvatar)}}])&&f(e.prototype,n),l&&f(e,l),s}(a.Component);e.default=h,h.defaultProps={shape:\"circle\",size:\"default\"}},rc3b:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/user/[username]\",function(){return n(\"EE/t\")}])}},[[\"rc3b\",0,2,1,3,5,7,6,8,9,11,10,13,15,12,14,18,16,17,19,20,21,24,23,28,27,4]]]);","extractedComments":[]}